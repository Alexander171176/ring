import{x,P as _,H as s,G as j,J as n,u as e,F as U,N as C,y as v,o as T,A as B,D as m,k as a,I as f,L as K}from"./vue-DrbZvlgE.js";import{u as w,a as M,T as N}from"./app-Bp8GUED0.js";import{A as L}from"./AdminLayout-m43ZpFmT.js";import{T as z}from"./TitlePage-CVAOVWeu.js";import{_ as b}from"./DefaultButton-B4OupGBJ.js";import{_ as c,a as y,b as D}from"./InputText-DBtoU87u.js";import{_ as u}from"./InputError-CDoDc20f.js";import{_ as V}from"./MetaDescTextarea-DjPUZo-s.js";import{_ as k,a as $,b as S}from"./InputNumber-D963n_HP.js";import{_ as A,a as F}from"./TinyEditor-CxBa4bIm.js";import{_ as P}from"./MultiImageUpload-Cl2NMbU3.js";import"./vendor-CGnu3J7H.js";import"./ScrollButtons-DwaEk0p5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-Cy7DQwuF.js";import"./LocaleSelectOption-DauWSBmB.js";import"./auth-image-XbvYdkSi.js";const q={class:"flex flex-row items-center gap-2"},E={for:"stance",class:"mr-2 font-medium text-sm text-indigo-600 dark:text-sky-500"},I=["value"],O={value:"",disabled:""},G=["value","selected"],H={key:0,class:"mt-2 text-sm text-red-500"},J={__name:"TypeSelect",props:{modelValue:String,error:String},emits:["update:modelValue"],setup(d,{emit:g}){const{t:r}=w(),t=g,h=[{value:"boxing_bout",labelKey:"typeSelectBoxingBout"},{value:"mma_tournament",labelKey:"typeSelectMmaTournament"},{value:"press_conference",labelKey:"typeSelectPressConference"}],p=i=>t("update:modelValue",i.target.value);return(i,o)=>(_(),x("div",q,[s("label",E,n(e(r)("type")),1),s("select",{id:"stance",value:d.modelValue,onChange:p,class:"py-0.5 form-select w-auto rounded-sm shadow-sm border-slate-500 dark:bg-slate-800 dark:text-white"},[s("option",O,n(e(r)("notSelected")),1),(_(),x(U,null,C(h,l=>s("option",{key:l.value,value:l.value,selected:l.value===d.modelValue,class:v({"bg-blue-500 text-white":l.value===d.modelValue,"bg-white text-gray-800 dark:bg-slate-700 dark:text-gray-100":l.value!==d.modelValue})},n(e(r)(l.labelKey)),11,G)),64))],40,I),d.error?(_(),x("p",H,n(d.error),1)):j("",!0)]))}},W={class:"flex flex-row items-center gap-2"},Q={for:"stance",class:"mr-2 font-medium text-sm text-indigo-600 dark:text-sky-500"},R=["value"],X={value:"",disabled:""},Y=["value","selected"],Z={key:0,class:"mt-2 text-sm text-red-500"},ee={__name:"StatusSelect",props:{modelValue:String,error:String},emits:["update:modelValue"],setup(d,{emit:g}){const{t:r}=w(),t=g,h=[{value:"scheduled",labelKey:"typeSelectScheduled"},{value:"live",labelKey:"statusSelectLive"},{value:"completed",labelKey:"statusSelectCompleted"},{value:"postponed",labelKey:"statusSelectPostponed"},{value:"cancelled",labelKey:"statusSelectCancelled"}],p=i=>t("update:modelValue",i.target.value);return(i,o)=>(_(),x("div",W,[s("label",Q,n(e(r)("status")),1),s("select",{id:"stance",value:d.modelValue,onChange:p,class:"py-0.5 form-select w-auto rounded-sm shadow-sm border-slate-500 dark:bg-slate-800 dark:text-white"},[s("option",X,n(e(r)("notSelected")),1),(_(),x(U,null,C(h,l=>s("option",{key:l.value,value:l.value,selected:l.value===d.modelValue,class:v({"bg-blue-500 text-white":l.value===d.modelValue,"bg-white text-gray-800 dark:bg-slate-700 dark:text-gray-100":l.value!==d.modelValue})},n(e(r)(l.labelKey)),11,Y)),64))],40,R),d.error?(_(),x("p",Z,n(d.error),1)):j("",!0)]))}},te={class:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-12xl mx-auto"},se={class:"p-4 bg-slate-50 dark:bg-slate-700 border border-blue-400 dark:border-blue-200 shadow-lg shadow-gray-500 dark:shadow-slate-400 bg-opacity-95 dark:bg-opacity-95"},le={class:"sm:flex sm:justify-between sm:items-center mb-2"},ae=s("svg",{class:"w-4 h-4 fill-current text-slate-100 shrink-0 mr-2",viewBox:"0 0 16 16"},[s("path",{d:"M4.3 4.5c1.9-1.9 5.1-1.9 7 0 .7.7 1.2 1.7 1.4 2.7l2-.3c-.2-1.5-.9-2.8-1.9-3.8C10.1.4 5.7.4 2.9 3.1L.7.9 0 7.3l6.4-.7-2.1-2.1zM15.6 8.7l-6.4.7 2.1 2.1c-1.9 1.9-5.1 1.9-7 0-.7-.7-1.2-1.7-1.4-2.7l-2 .3c.2 1.5.9 2.8 1.9 3.8 1.4 1.4 3.1 2 4.9 2 1.8 0 3.6-.7 4.9-2l2.2 2.2.8-6.4z"})],-1),oe=s("div",{class:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2"},null,-1),re={class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-4"},ne={class:"flex flex-row items-center gap-2"},ie={class:"flex flex-row items-center gap-2 w-auto"},de={class:"flex flex-row items-center gap-2"},me={class:"h-8 flex items-center"},ue={class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-4"},ce={class:"flex flex-row items-center gap-2"},fe={class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-4"},_e={class:"flex flex-row items-center justify-start w-full"},ge={class:"mb-3 flex flex-col items-end w-96"},xe={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},he={class:"flex flex-row items-center justify-end w-full gap-2"},pe={class:"h-8 flex items-center"},ye={class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-4"},ve={class:"flex flex-row items-center justify-end w-full"},we={class:"mb-3 flex flex-col items-end w-96"},be={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},Ve={class:"flex flex-row items-center justify-end w-full"},ke={class:"mb-3 flex flex-col items-end w-96"},$e={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},Se={class:"mt-3 flex flex-col items-start w-full"},je={class:"flex justify-start w-full"},Ue=s("div",{class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-4"},null,-1),Ce={class:"mb-3 flex flex-col items-start"},Te={class:"flex justify-between w-full"},Be=s("span",{class:"text-red-500 dark:text-red-300 font-semibold"},"*",-1),Ke={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},Me={class:"mb-3 flex flex-col items-start"},Ne={class:"mb-3 flex flex-col items-start"},Le={class:"flex justify-between w-full"},ze={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},De={class:"mb-3 flex flex-col items-start"},Ae={class:"flex items-center justify-center mt-4"},Fe=s("svg",{class:"w-4 h-4 fill-current text-slate-100 shrink-0 mr-2",viewBox:"0 0 16 16"},[s("path",{d:"M4.3 4.5c1.9-1.9 5.1-1.9 7 0 .7.7 1.2 1.7 1.4 2.7l2-.3c-.2-1.5-.9-2.8-1.9-3.8C10.1.4 5.7.4 2.9 3.1L.7.9 0 7.3l6.4-.7-2.1-2.1zM15.6 8.7l-6.4.7 2.1 2.1c-1.9 1.9-5.1 1.9-7 0-.7-.7-1.2-1.7-1.4-2.7l-2 .3c.2 1.5.9 2.8 1.9 3.8 1.4 1.4 3.1 2 4.9 2 1.8 0 3.6-.7 4.9-2l2.2 2.2.8-6.4z"})],-1),Pe=s("svg",{class:"w-4 h-4 fill-current text-slate-100",viewBox:"0 0 16 16"},[s("path",{d:"M14.3 2.3L5 11.6 1.7 8.3c-.4-.4-1-.4-1.4 0-.4.4-.4 1 0 1.4l4 4c.2.2.4.3.7.3.3 0 .5-.1.7-.3l10-10c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0z"})],-1),at={__name:"Create",props:{images:Array},setup(d){const g=M(),{t:r}=w(),t=N({activity:!1,sort:"0",locale:"",parent_tournament_id:"",type:null,status:null,name:"",tournament_date_time:"",venue:"",city:"",country:"",short:"",description:"",weight_class_name:"",rounds_scheduled:"0",is_title_fight:!1,winner_id:"",method_of_victory:"",round_of_finish:"",time_of_finish:"",details:"",is_main_card_event:!1,images:[]}),h=i=>{if(!i)return"";const o=new Date(i);return isNaN(o.getTime())?"":o.toISOString().split("T")[0]};T(()=>{t.tournament_date_time&&(t.tournament_date_time=h(t.tournament_date_time))});const p=()=>{t.transform(i=>({...i,activity:i.activity?1:0,is_title_fight:i.is_title_fight?1:0})),t.post(route("admin.tournaments.store"),{forceFormData:!0,errorBag:"createTournament",preserveScroll:!0,onSuccess:i=>{g.success("Турнир успешно создан!")},onError:i=>{console.error("❌ Ошибки валидации:",i);const o=i[Object.keys(i)[0]];g.error(o||"Пожалуйста, проверьте правильность заполнения полей.")}})};return(i,o)=>(_(),B(L,{title:e(r)("addTournament")},{header:m(()=>[a(z,null,{default:m(()=>[f(n(e(r)("addTournament")),1)]),_:1})]),default:m(()=>[s("div",te,[s("div",se,[s("div",le,[a(b,{href:i.route("admin.tournaments.index")},{icon:m(()=>[ae]),default:m(()=>[f(" "+n(e(r)("back")),1)]),_:1},8,["href"]),oe]),s("form",{onSubmit:K(p,["prevent"]),enctype:"multipart/form-data",class:"p-3 w-full"},[s("div",re,[s("div",ne,[a(k,{modelValue:e(t).activity,"onUpdate:modelValue":o[0]||(o[0]=l=>e(t).activity=l)},null,8,["modelValue"]),a($,{for:"activity",text:e(r)("activity"),class:"text-sm h-8 flex items-center"},null,8,["text"])]),s("div",ie,[a(A,{modelValue:e(t).locale,"onUpdate:modelValue":o[1]||(o[1]=l=>e(t).locale=l),errorMessage:e(t).errors.locale},null,8,["modelValue","errorMessage"]),a(u,{class:"mt-2 lg:mt-0",message:e(t).errors.locale},null,8,["message"])]),s("div",de,[s("div",me,[a(c,{for:"sort",value:e(r)("sort"),class:"text-sm"},null,8,["value"])]),a(S,{id:"sort",type:"number",modelValue:e(t).sort,"onUpdate:modelValue":o[2]||(o[2]=l=>e(t).sort=l),autocomplete:"sort",class:"w-full lg:w-28"},null,8,["modelValue"]),a(u,{class:"mt-2 lg:mt-0",message:e(t).errors.sort},null,8,["message"])])]),s("div",ue,[s("div",ce,[a(k,{modelValue:e(t).is_title_fight,"onUpdate:modelValue":o[3]||(o[3]=l=>e(t).is_title_fight=l)},null,8,["modelValue"]),a($,{for:"is_title_fight",text:e(r)("isTitleFight"),class:"text-sm h-8 flex items-center"},null,8,["text"])]),a(J,{modelValue:e(t).type,"onUpdate:modelValue":o[4]||(o[4]=l=>e(t).type=l),error:e(t).errors.type},null,8,["modelValue","error"]),a(ee,{modelValue:e(t).status,"onUpdate:modelValue":o[5]||(o[5]=l=>e(t).status=l),error:e(t).errors.status},null,8,["modelValue","error"])]),s("div",fe,[s("div",_e,[a(c,{for:"weight_class_name",class:"mt-4 mr-2"},{default:m(()=>[f(n(e(r)("weightClassName")),1)]),_:1}),s("div",ge,[s("div",xe,n(e(t).weight_class_name.length)+" / 100 "+n(e(r)("characters")),1),a(y,{id:"weight_class_name",type:"text",modelValue:e(t).weight_class_name,"onUpdate:modelValue":o[6]||(o[6]=l=>e(t).weight_class_name=l),maxlength:"100",autocomplete:"weight_class_name",placeholder:e(r)("placeholderWeightClassName")},null,8,["modelValue","placeholder"]),a(u,{class:"mt-2",message:e(t).errors.weight_class_name},null,8,["message"])])]),s("div",he,[s("div",pe,[a(c,{for:"rounds_scheduled",value:e(r)("roundsScheduled"),class:"text-sm"},null,8,["value"])]),a(S,{id:"rounds_scheduled",type:"number",modelValue:e(t).rounds_scheduled,"onUpdate:modelValue":o[7]||(o[7]=l=>e(t).rounds_scheduled=l),autocomplete:"rounds_scheduled",class:"w-full lg:w-28"},null,8,["modelValue"]),a(u,{class:"mt-2 lg:mt-0",message:e(t).errors.rounds_scheduled},null,8,["message"])])]),s("div",ye,[s("div",ve,[a(c,{for:"country",class:"mt-4 mr-2"},{default:m(()=>[f(n(e(r)("country")),1)]),_:1}),s("div",we,[s("div",be,n(e(t).country.length)+" / 100 "+n(e(r)("characters")),1),a(y,{id:"country",type:"text",modelValue:e(t).country,"onUpdate:modelValue":o[8]||(o[8]=l=>e(t).country=l),maxlength:"100",required:"",autocomplete:"country"},null,8,["modelValue"]),a(u,{class:"mt-2",message:e(t).errors.country},null,8,["message"])])]),s("div",Ve,[a(c,{for:"country",class:"mt-4 mr-2"},{default:m(()=>[f(n(e(r)("city")),1)]),_:1}),s("div",ke,[s("div",$e,n(e(t).city.length)+" / 100 "+n(e(r)("characters")),1),a(y,{id:"city",type:"text",modelValue:e(t).city,"onUpdate:modelValue":o[9]||(o[9]=l=>e(t).city=l),maxlength:"100",required:"",autocomplete:"city"},null,8,["modelValue"]),a(u,{class:"mt-2",message:e(t).errors.city},null,8,["message"])])]),s("div",Se,[s("div",je,[a(c,{for:"tournament_date_time",value:e(r)("date"),class:"mb-1 lg:mb-0 lg:mr-2"},null,8,["value"]),a(y,{id:"tournament_date_time",type:"date",modelValue:e(t).tournament_date_time,"onUpdate:modelValue":o[10]||(o[10]=l=>e(t).tournament_date_time=l),autocomplete:"tournament_date_time",class:"w-full max-w-56"},null,8,["modelValue"]),a(u,{class:"mt-1 sm:mt-0",message:e(t).errors.tournament_date_time},null,8,["message"])])])]),Ue,s("div",Ce,[s("div",Te,[a(c,{for:"name"},{default:m(()=>[Be,f(" "+n(e(r)("title")),1)]),_:1}),s("div",Ke,n(e(t).name.length)+" / 255 "+n(e(r)("characters")),1)]),a(y,{id:"name",type:"text",modelValue:e(t).name,"onUpdate:modelValue":o[11]||(o[11]=l=>e(t).name=l),maxlength:"255",required:"",autocomplete:"name"},null,8,["modelValue"]),a(u,{class:"mt-2",message:e(t).errors.name},null,8,["message"])]),s("div",Me,[a(c,{for:"details",value:e(r)("details")},null,8,["value"]),a(V,{modelValue:e(t).details,"onUpdate:modelValue":o[12]||(o[12]=l=>e(t).details=l),class:"w-full"},null,8,["modelValue"]),a(u,{class:"mt-2",message:e(t).errors.details},null,8,["message"])]),s("div",Ne,[s("div",Le,[a(c,{for:"short",value:e(r)("shortDescription")},null,8,["value"]),s("div",ze,n(e(t).short.length)+" / 255 "+n(e(r)("characters")),1)]),a(V,{modelValue:e(t).short,"onUpdate:modelValue":o[13]||(o[13]=l=>e(t).short=l),class:"w-full"},null,8,["modelValue"]),a(u,{class:"mt-2",message:e(t).errors.short},null,8,["message"])]),s("div",De,[a(c,{for:"description",value:e(r)("description")},null,8,["value"]),a(F,{modelValue:e(t).description,"onUpdate:modelValue":o[14]||(o[14]=l=>e(t).description=l),height:500},null,8,["modelValue"]),a(u,{class:"mt-2",message:e(t).errors.description},null,8,["message"])]),a(P,{"onUpdate:images":o[15]||(o[15]=l=>e(t).images=l)}),s("div",Ae,[a(b,{href:i.route("admin.tournaments.index"),class:"mb-3"},{icon:m(()=>[Fe]),default:m(()=>[f(" "+n(e(r)("back")),1)]),_:1},8,["href"]),a(D,{class:v(["ms-4 mb-0",{"opacity-25":e(t).processing}]),disabled:e(t).processing},{icon:m(()=>[Pe]),default:m(()=>[f(" "+n(e(r)("save")),1)]),_:1},8,["class","disabled"])])],32)])])]),_:1},8,["title"]))}};export{at as default};
