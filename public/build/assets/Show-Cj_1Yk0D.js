import{u as j,Q as k,l as S,m as l,o,f as e,k as t,n as _,t as i,G as C,e as b,w as h,i as g,ae as I,J as x,F as w,v as $,q as L,a$ as A,p as v}from"./vendor-dXS4rpLM.js";import{_ as M}from"./DefaultLayout-CrVpCYMX.js";import{a as T}from"./vendor-axios-jn5v1YEJ.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-lodash-BWwjE5JL.js";import"./ResponsiveNavLink-DaQ3F65y.js";import"./LogoutButton-DEsayC_J.js";import"./LocaleSelectOption-BbFlFRNr.js";import"./app-005Ychus.js";const N={itemprop:"interactionStatistic",itemscope:"",itemtype:"http://schema.org/InteractionCounter"},V=e("meta",{itemprop:"interactionType",content:"http://schema.org/LikeAction"},null,-1),F=["content"],q=["title"],z=e("svg",{class:"w-4 h-4 fill-current text-rose-400 hover:text-yellow-500 active:text-fuchsia-500 transition-all duration-200 transform",viewBox:"0 0 512 512"},[e("path",{d:"M47.6 300.4L228.3 469.1c7.5 7 17.4 10.9 27.7 10.9s20.2-3.9 27.7-10.9L464.4 300.4c30.4-28.3 47.6-68 47.6-109.5v-5.8c0-69.9-50.5-129.5-119.4-141C347 36.5 300.6 51.4 268 84L256 96 244 84c-32.6-32.6-79-47.5-124.6-39.9C50.5 55.6 0 115.2 0 185.1v5.8c0 41.5 17.2 81.2 47.6 109.5z"})],-1),H={key:0,class:"ml-1 text-xs dark:text-slate-100"},O={__name:"LikeButton",setup(f){const{t:m}=j(),{article:n}=k().props,s=S(n.likes),r=()=>{T.post(route("articles.like",n.id)).then(u=>{u.data.success&&(s.value=u.data.likes)}).catch(u=>{console.error("Ошибка лайка:",u)})};return(u,p)=>(o(),l("div",N,[V,e("meta",{itemprop:"userInteractionCount",content:t(n).likes},null,8,F),e("div",{onClick:r,title:t(m)("like"),class:"w-12 px-1 py-0.5 flex flex-row items-center cursor-pointer transition-all duration-200 transform hover:scale-105 active:scale-95"},[z,s.value>0?(o(),l("span",H,i(t(n).likes),1)):_("",!0)],8,q)]))}},R={class:"relative w-full h-full"},U=["src","alt"],W=["src","alt"],E={class:"absolute bottom-2 left-1/2 transform -translate-x-1/2 flex space-x-2"},G=["onClick"],J={__name:"ArticleImageMain",props:{images:{type:Array,required:!0},link:{type:String,default:""}},setup(f){const m=f,n=S(0),s=C(()=>m.images.length),r=C(()=>m.images[n.value]);return(u,p)=>(o(),l("div",R,[f.link?(o(),b(t(x),{key:0,href:f.link,class:"block w-full h-full"},{default:h(()=>[g(I,{name:"fade",mode:"out-in"},{default:h(()=>[(o(),l("img",{key:r.value.id,src:r.value.webp_url||r.value.url,alt:r.value.alt,class:"w-full h-full object-cover"},null,8,U))]),_:1})]),_:1},8,["href"])):(o(),b(I,{key:1,name:"fade",mode:"out-in"},{default:h(()=>[(o(),l("img",{key:r.value.id,src:r.value.webp_url||r.value.url,alt:r.value.alt,class:"w-full h-full object-cover"},null,8,W))]),_:1})),e("button",{onClick:p[0]||(p[0]=c=>n.value=(n.value-1+s.value)%s.value),class:"absolute top-1/2 left-0 transform -translate-y-1/2 bg-gray-700 bg-opacity-75 text-white px-2 py-1 rounded-r focus:outline-none","aria-label":"Previous"}," ❮ "),e("button",{onClick:p[1]||(p[1]=c=>n.value=(n.value+1)%s.value),class:"absolute top-1/2 right-0 transform -translate-y-1/2 bg-gray-700 bg-opacity-75 text-white px-2 py-1 rounded-l focus:outline-none","aria-label":"Next"}," ❯ "),e("div",E,[(o(!0),l(w,null,$(s.value,(c,d)=>(o(),l("span",{key:d,onClick:a=>n.value=d,class:L(["cursor-pointer w-3 h-3 rounded-full border border-gray-500",n.value===d?"bg-red-500":"bg-slate-100"])},null,10,G))),128))])]))}},Q=D(J,[["__scopeId","data-v-5ba32efe"]]),Y=["content"],Z=["content"],K=["content"],P=["content"],X=e("meta",{name:"viewport",content:"width=device-width, initial-scale=1"},null,-1),tt=["content"],et=["content"],st=e("meta",{property:"og:type",content:"article"},null,-1),ot=["content"],lt=["content"],at=["content"],nt=e("meta",{name:"twitter:card",content:"summary_large_image"},null,-1),it=["content"],rt=["content"],ct=["content"],dt=["content"],mt=["content"],ut=["content"],_t={class:"flex flex-col w-full"},pt={class:"text-left text-sm ml-0 md:ml-4 lg:ml-6 xl:ml-8 mt-4 px-1","aria-label":"Breadcrumb"},ht={class:"list-reset flex flex-col md:flex-row items-center justify-start space-x-0"},gt=e("span",{class:"mx-1 text-slate-900 dark:text-slate-100"},"/",-1),ft={class:"text-slate-900 dark:text-slate-100 lowercase"},xt={itemscope:"",itemtype:"https://schema.org/BlogPosting",class:"flex flex-col p-4 selection:bg-red-400 selection:text-white bg-slate-50 dark:bg-slate-950 mx-auto"},yt={class:"flex-1 max-w-3xl"},vt={class:"flex flex-col items-center justify-center my-1"},kt={itemprop:"datePublished",datetime:"{{ formatDate(article.published_at) }}",class:"opacity-75 text-left text-xs font-semibold text-slate-600 dark:text-slate-400 mb-2"},bt={itemprop:"headline",class:"text-center font-semibold text-xl text-gray-900 dark:text-slate-100 mb-4"},wt={itemprop:"interactionStatistic",itemscope:"",itemtype:"http://schema.org/InteractionCounter"},$t=e("meta",{itemprop:"interactionType",content:"http://schema.org/ViewAction"},null,-1),Ct=["content"],It=["title"],jt={key:0,class:"hidden items-center justify-center my-3"},St={itemprop:"description",class:"text-center text-md text-teal-700 dark:text-teal-200 mr-2"},Bt={class:"p-4 border border-gray-300 rounded shadow-lg"},Lt={key:0,class:"flex justify-center items-center",itemprop:"image",itemscope:"",itemtype:"https://schema.org/ImageObject"},At=["src","alt"],Mt=e("meta",{itemprop:"width",content:"800"},null,-1),Tt=e("meta",{itemprop:"height",content:"600"},null,-1),Dt={key:1,class:"flex flex-col justify-center items-center",itemprop:"image",itemscope:"",itemtype:"https://schema.org/ImageObject"},Nt=e("meta",{itemprop:"width",content:"800"},null,-1),Vt=e("meta",{itemprop:"height",content:"600"},null,-1),Ft={key:0,class:"mt-2 text-center text-sm text-gray-600 dark:text-gray-300 italic underline decoration-double",itemprop:"caption"},qt=["innerHTML"],zt={key:2,class:"flex flex-col md:flex-row justify-center items-center mb-3 italic font-semibold text-sm text-slate-700 dark:text-slate-300"},Ht={key:0},Ot={class:"flex justify-center items-center"},Rt={key:0,class:"font-semibold text-sky-600 dark:text-sky-300",itemprop:"author"},Ut={class:"mr-2"},Wt={key:0,class:"mt-4 p-4"},Et={class:"mb-4 tracking-wide text-center font-semibold text-xl text-slate-700 dark:text-slate-300"},Gt={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-2 xl:grid-cols-4 gap-4"},Jt={class:"relative w-full"},Qt={class:"w-full aspect-[4/3] overflow-hidden"},Yt=["src","alt"],Zt=["src","alt"],Kt={key:2,class:"w-full h-full flex items-center justify-center bg-gray-200 dark:bg-gray-400"},Pt={class:"text-gray-500 dark:text-gray-700"},Xt={class:"absolute bottom-0 left-0 w-full p-2 bg-slate-800 bg-opacity-75"},te={class:"text-xs font-semibold text-yellow-200"},de={__name:"Show",setup(f){const{t:m}=j(),{appUrl:n}=k().props,{article:s,recommendedArticles:r}=k().props,u=c=>{const d=new Date(c),a=String(d.getDate()).padStart(2,"0"),y=String(d.getMonth()+1).padStart(2,"0"),B=d.getFullYear();return`${a}.${y}.${B}`},p=c=>{if(!c)return"";const d=n.endsWith("/")?n.slice(0,-1):n,a=c.startsWith("/")?c.slice(1):c;return`${d}/storage/${a}`};return(c,d)=>(o(),b(M,{title:t(s).title,"can-login":c.$page.props.canLogin,"can-register":c.$page.props.canRegister},{default:h(()=>[g(t(A),null,{default:h(()=>[e("title",null,i(t(s).title),1),e("meta",{name:"title",content:t(s).title||""},null,8,Y),e("meta",{name:"description",content:t(s).meta_desc||""},null,8,Z),e("meta",{name:"keywords",content:t(s).meta_keywords||""},null,8,K),e("meta",{name:"author",content:t(s).author||""},null,8,P),X,e("meta",{property:"og:title",content:t(s).title||""},null,8,tt),e("meta",{property:"og:description",content:t(s).meta_desc||""},null,8,et),st,e("meta",{property:"og:url",content:`/articles/${t(s).url}`},null,8,ot),e("meta",{property:"og:image",content:t(s).images&&t(s).images.length>0?t(s).images[0].url:""},null,8,lt),e("meta",{property:"og:locale",content:t(s).locale||"ru_RU"},null,8,at),nt,e("meta",{name:"twitter:title",content:t(s).title||""},null,8,it),e("meta",{name:"twitter:description",content:t(s).meta_desc||""},null,8,rt),e("meta",{name:"twitter:image",content:t(s).images&&t(s).images.length>0?t(s).images[0].url:""},null,8,ct),e("meta",{itemprop:"name",content:t(s).title||""},null,8,dt),e("meta",{itemprop:"description",content:t(s).meta_desc||""},null,8,mt),e("meta",{itemprop:"image",content:t(s).images&&t(s).images.length>0?t(s).images[0].url:""},null,8,ut)]),_:1}),e("div",_t,[e("nav",pt,[e("ol",ht,[e("li",null,[g(t(x),{href:"/",class:"hover:underline text-slate-900 dark:text-slate-100"},{default:h(()=>[v(i(t(m)("home")),1)]),_:1}),gt]),e("li",ft,i(t(s).title),1)])]),e("article",xt,[e("div",yt,[e("header",null,[e("div",vt,[e("time",kt,i(u(t(s).published_at)),1),e("h1",bt,i(t(s).title),1),e("div",wt,[$t,e("meta",{itemprop:"userInteractionCount",content:t(s).views},null,8,Ct),e("span",{title:t(m)("views"),class:"hidden ml-2 px-1 py-0.5 text-xs font-semibold text-white bg-emerald-500 rounded-full"},i(t(s).views),9,It)])])]),t(s).short?(o(),l("div",jt,[e("p",St,i(t(s).short),1)])):_("",!0),e("div",Bt,[t(s).img?(o(),l("div",Lt,[e("img",{src:p(t(s).img),alt:t(s).title,class:"rounded-md border border-black dark:border-gray-200 w-full"},null,8,At),Mt,Tt])):t(s).images&&t(s).images.length>0?(o(),l("div",Dt,[g(Q,{images:t(s).images,link:`/articles/${t(s).url}`,class:"max-w-4xl"},null,8,["images","link"]),Nt,Vt,t(s).images[0].caption?(o(),l("div",Ft,i(t(s).images[0].caption),1)):_("",!0)])):_("",!0)]),t(s).description?(o(),l("div",{key:1,class:"w-full max-w-4xl mx-auto my-4 p-2 text-md text-slate-700 dark:text-slate-300",innerHTML:t(s).description,itemprop:"articleBody"},null,8,qt)):_("",!0),t(s).tags?(o(),l("div",zt,[(o(!0),l(w,null,$(t(s).tags,(a,y)=>(o(),l("span",{key:a.id},[g(t(x),{href:`/tags/${a.slug}`,itemprop:"keywords",class:"hover:text-red-400 hover:dark:text-red-300"},{default:h(()=>[v(i(a.name),1)]),_:2},1032,["href"]),y<t(s).tags.length-1?(o(),l("span",Ht,", ")):_("",!0)]))),128))])):_("",!0),e("div",Ot,[t(s).author?(o(),l("div",Rt,[e("span",Ut,i(t(s).author),1)])):_("",!0),g(O)])])]),t(r)&&t(r).length>0?(o(),l("div",Wt,[e("h2",Et,i(t(m)("relatedArticles"))+": ",1),e("div",Gt,[(o(!0),l(w,null,$(t(r),a=>(o(),l("div",{key:a.id,class:"p-4 border border-gray-300 rounded shadow"},[e("div",Jt,[e("div",Qt,[a.img?(o(),l("img",{key:0,src:p(a.img),alt:a.title,class:"w-full h-full object-cover"},null,8,Yt)):a.images&&a.images.length>0?(o(),l("img",{key:1,src:a.images[0].webp_url||a.images[0].url,alt:a.images[0].alt,class:"w-full h-full object-cover"},null,8,Zt)):(o(),l("div",Kt,[e("span",Pt,i(t(m)("noCurrentImage")),1)]))]),e("div",Xt,[e("div",te,i(u(a.published_at)),1),g(t(x),{href:`/articles/${a.url}`,class:"text-xs font-semibold text-white hover:text-red-400"},{default:h(()=>[v(i(a.title),1)]),_:2},1032,["href"])])])]))),128))])])):_("",!0)])]),_:1},8,["title","can-login","can-register"]))}};export{de as default};
