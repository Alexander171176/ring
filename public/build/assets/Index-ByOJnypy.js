import{r as F,b,A as L,P as l,D as g,H as e,J as o,u as a,U as C,x as i,F as f,N as h,af as N,y as T,k as A,I as B}from"./vue-DrbZvlgE.js";import{u as D,a as I,T as R,F as V}from"./app-Bp8GUED0.js";import{A as E}from"./AdminLayout-m43ZpFmT.js";import{T as S}from"./TitlePage-CVAOVWeu.js";import"./vendor-CGnu3J7H.js";import"./ScrollButtons-DwaEk0p5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-Cy7DQwuF.js";import"./LocaleSelectOption-DauWSBmB.js";import"./auth-image-XbvYdkSi.js";const U={class:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-12xl mx-auto"},O={class:"p-4 bg-slate-50 dark:bg-slate-700 border border-blue-400 dark:border-blue-200 overflow-hidden shadow-lg shadow-gray-500 dark:shadow-slate-400 bg-opacity-95 dark:bg-opacity-95"},P={class:"p-6 bg-slate-100 dark:bg-slate-600 rounded shadow"},z={class:"text-slate-700 dark:text-slate-100 text-center text-xl font-semibold mb-4"},G={class:"flex flex-wrap gap-4 mb-4"},H=["value"],J=["value"],M=["disabled"],Q={class:"border rounded p-4 bg-gray-50 dark:bg-gray-700 overflow-auto max-h-[600px] text-sm font-mono"},W={key:0,class:"text-slate-700 dark:text-slate-100"},j=["id"],q={class:"font-semibold text-blue-500 dark:text-blue-200 inline-block w-12 text-right mr-2 select-none"},K={class:"whitespace-pre-wrap flex-1"},le={__name:"Index",props:{log:String,files:Array,selectedFile:String},setup(_){const{t:r}=D();I();const d=_,p=R({}),n=F(""),x=b(()=>d.log.split(`
`)),m=b(()=>n.value?x.value.filter(s=>s.toLowerCase().includes(n.value.toLowerCase())):x.value),k=s=>{V.get(route("admin.logs.index",{file:s}))},v=()=>{confirm("Очистить выбранный лог?")&&p.delete(route("admin.logs.clear",{file:d.selectedFile}))},w=s=>/ERROR|exception|critical/i.test(s)?"text-red-500 dark:text-red-200 font-bold":/WARN|warning/i.test(s)?"text-yellow-600 font-semibold":/INFO/i.test(s)?"text-indigo-800 dark:text-indigo-200":/DEBUG/i.test(s)?"text-fuchsia-800 dark:text-fuchsia-200 font-bold":"text-gray-900 dark:text-gray-100",y=()=>{window.location.href=route("admin.logs.download",{file:d.selectedFile})};return(s,c)=>(l(),L(E,{title:a(r)("logs")},{header:g(()=>[A(S,null,{default:g(()=>[B(o(a(r)("logs")),1)]),_:1})]),default:g(()=>[e("div",U,[e("div",O,[e("div",P,[e("h1",z,o(a(r)("viewingLogs")),1),e("div",G,[e("select",{onChange:c[0]||(c[0]=t=>k(t.target.value)),value:d.selectedFile,class:"border rounded-sm h-8 py-0 px-2 bg-slate-100 dark:bg-slate-900 text-slate-700 dark:text-slate-50"},[(l(!0),i(f,null,h(d.files,t=>(l(),i("option",{key:t,value:t,class:"text-md"},o(t),9,J))),128))],40,H),C(e("input",{"onUpdate:modelValue":c[1]||(c[1]=t=>n.value=t),placeholder:"Поиск...",class:"bg-slate-100 dark:bg-slate-900 text-slate-700 dark:text-slate-50 border rounded-sm h-8 py-0 px-2 flex-1"},null,512),[[N,n.value]]),e("button",{onClick:v,disabled:a(p).processing,class:"h-8 py-0 px-2 bg-rose-500 text-white rounded-sm hover:bg-amber-500 disabled:opacity-50"},o(a(r)("clearLog")),9,M),e("button",{onClick:y,class:"h-8 py-0 px-2 bg-green-500 text-white rounded-sm hover:bg-teal-500"},o(a(r)("download")),1)]),e("div",Q,[m.value.length===0?(l(),i("div",W,o(a(r)("noData")),1)):(l(!0),i(f,{key:1},h(m.value,(t,u)=>(l(),i("div",{key:u,id:"line-"+u,class:T(["group flex hover:bg-yellow-100 dark:hover:bg-slate-900 transition-colors duration-200",w(t)])},[e("span",q,o(u+1)+". ",1),e("pre",K,o(t),1)],10,j))),128))])])])])]),_:1},8,["title"]))}};export{le as default};
