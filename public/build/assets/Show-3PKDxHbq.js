import{r as w,o as S,j as $,b as v,A as h,P as n,D as x,k as c,H as e,u as t,J as i,y as N,x as l,G as d,I as P,U as A,af as V,F as C,N as D}from"./vue-DrbZvlgE.js";import{u as T,Q as U,Z as E,i as M}from"./app-Bp8GUED0.js";import{a as L,_ as F}from"./DefaultLayout-CwrzgkhG.js";import{M as H,_ as I,S as Q}from"./SectionArticlesPagination-MtwpZwXP.js";import"./vendor-CGnu3J7H.js";import"./ResponsiveNavLink-Cy7DQwuF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./LogoutButton-CgDShVbY.js";import"./LocaleSelectOption-DauWSBmB.js";const R=["content"],q=["content"],z=["content"],G=["content"],J=["content"],O=e("meta",{property:"og:type",content:"website"},null,-1),Z=["content"],K=["content"],W=["content"],X=e("meta",{name:"twitter:card",content:"summary_large_image"},null,-1),Y=["content"],tt=["content"],et=["content"],st=["content"],nt=["content"],ot=["content"],lt=["content"],at={class:"flex justify-center flex-col md:flex-row md:space-x-4"},it={class:"flex items-center justify-center my-4 text-center font-bolder text-3xl text-gray-900 dark:text-slate-100"},rt=["innerHTML"],ct={class:"ml-2 px-1 py-0 text-xs font-semibold text-white bg-emerald-500 rounded-sm"},dt={key:0,class:"flex items-center justify-center mb-4 tracking-wide text-center text-xl text-gray-700 dark:text-gray-300"},mt={class:"mb-2 max-w-3xl mx-auto"},ut=["placeholder"],_t={key:1,class:"space-y-8"},pt={class:"p-6"},ht=["title"],xt={key:0,class:"mt-4"},ft={class:"flex justify-center items-center flex-wrap"},gt={class:"mb-3 tracking-wide text-2xl font-semibold text-slate-500 dark:text-slate-200"},yt={key:1,class:"mb-3 tracking-wide text-xl font-semibold text-slate-500 dark:text-slate-200"},kt={key:2},bt={key:3,class:"max-w-xl w-full mt-3 text-center p-1 tracking-wider text-lg font-semibold text-slate-600 dark:text-slate-300"},wt={key:2,class:"text-gray-500 text-lg text-center"},Pt={__name:"Show",setup(vt){const{t:f}=T(),{rubric:s,sections:g,activeArticlesCount:j,siteSettings:m}=U().props,y=w(!1);let u;const k=()=>{y.value=document.documentElement.classList.contains("dark")};S(()=>{k(),u=new MutationObserver(k),u.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}),$(()=>{u&&u.disconnect()});const B=v(()=>y.value?m.PublicDarkBackgroundColor:m.PublicLightBackgroundColor),_=w(""),b=v(()=>{if(!_.value.trim())return g;const p=_.value.toLowerCase();return g.map(r=>({...r,articles:r.articles.filter(a=>a.title.toLowerCase().includes(p))})).filter(r=>r.articles.length>0)});return(p,r)=>(n(),h(F,{title:t(s).title,"can-login":p.$page.props.canLogin,"can-register":p.$page.props.canRegister},{default:x(()=>[c(t(E),null,{default:x(()=>[e("title",null,i(t(s).title),1),e("meta",{name:"title",content:t(s).title||""},null,8,R),e("meta",{name:"keywords",content:t(s).meta_keywords||""},null,8,q),e("meta",{name:"description",content:t(s).meta_desc||""},null,8,z),e("meta",{property:"og:title",content:t(s).title||""},null,8,G),e("meta",{property:"og:description",content:t(s).meta_desc||""},null,8,J),O,e("meta",{property:"og:url",content:`/rubrics/${t(s).url}`},null,8,Z),e("meta",{property:"og:image",content:t(s).icon||""},null,8,K),e("meta",{property:"og:locale",content:t(s).locale||"ru_RU"},null,8,W),X,e("meta",{name:"twitter:title",content:t(s).title||""},null,8,Y),e("meta",{name:"twitter:description",content:t(s).meta_desc||""},null,8,tt),e("meta",{name:"twitter:image",content:t(s).icon||""},null,8,et),e("meta",{name:"DC.title",content:t(s).title||""},null,8,st),e("meta",{name:"DC.description",content:t(s).meta_desc||""},null,8,nt),e("meta",{name:"DC.identifier",content:`/rubrics/${t(s).url}`},null,8,ot),e("meta",{name:"DC.language",content:t(s).locale||"ru"},null,8,lt)]),_:1}),e("div",{class:N([[B.value],"flex-1 p-4 selection:bg-red-400 selection:text-white"])},[e("div",at,[c(H),c(I)]),e("h1",it,[t(s).icon?(n(),l("span",{key:0,class:"flex justify-center",innerHTML:t(s).icon},null,8,rt)):d("",!0),P(" "+i(t(s).title)+" ",1),e("span",ct,i(t(j)),1)]),t(s).short?(n(),l("p",dt,i(t(s).short),1)):d("",!0),e("div",mt,[A(e("input",{"onUpdate:modelValue":r[0]||(r[0]=a=>_.value=a),type:"text",placeholder:t(f)("searchByName"),class:"w-full px-3 py-1.5 bg-white dark:bg-gray-700 font-semibold text-md text-slate-600 dark:text-slate-100 border border-slate-500 dark:border-slate-400 rounded-sm focus:outline-none focus:ring focus:border-blue-300"},null,8,ut),[[V,_.value]])]),b.value.length?(n(),l("div",_t,[(n(!0),l(C,null,D(b.value,a=>(n(),l("div",{key:a.id,class:"overflow-hidden"},[e("div",pt,[e("h2",{class:"mb-2 text-2xl font-semibold text-amber-500 dark:text-red-200",title:a.short},i(a.title),9,ht),c(Q,{articles:a.articles,"items-per-page":t(m).PublicCountArticle?parseInt(t(m).PublicCountArticle):2},null,8,["articles","items-per-page"]),a.banners&&a.banners.length?(n(),l("div",xt,[e("div",ft,[(n(!0),l(C,null,D(a.banners,o=>(n(),l("div",{key:o.id,class:"w-full flex flex-col justify-center items-center"},[o.link?(n(),h(t(M),{key:0,href:o.link},{default:x(()=>[e("h3",gt,i(o.title),1)]),_:2},1032,["href"])):(n(),l("h3",yt,i(o.title),1)),o.images&&o.images.length>0?(n(),l("div",kt,[o.link?(n(),h(t(M),{key:0,href:o.link},{default:x(()=>[c(L,{images:o.images},null,8,["images"])]),_:2},1032,["href"])):(n(),h(L,{key:1,images:o.images},null,8,["images"]))])):d("",!0),o.short?(n(),l("p",bt,i(o.short),1)):d("",!0)]))),128))])])):d("",!0)])]))),128))])):(n(),l("div",wt,i(t(f)("noData")),1))],2)]),_:1},8,["title","can-login","can-register"]))}};export{Pt as default};
