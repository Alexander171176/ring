import{u as R,Q as L,G as _,l as M,e as N,o,w as f,i as D,f as e,k as s,a$ as U,t as r,J as H,p as T,m as l,n as d,F as S,v as P,I as B,aF as F}from"./vendor-dXS4rpLM.js";import{_ as I}from"./DefaultLayout-CrVpCYMX.js";import"./vendor-axios-jn5v1YEJ.js";import"./vendor-lodash-BWwjE5JL.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-DaQ3F65y.js";import"./LogoutButton-DEsayC_J.js";import"./LocaleSelectOption-BbFlFRNr.js";import"./app-005Ychus.js";const E=["content"],G=["content"],J=["content"],Q=["content"],Z=["content"],q=e("meta",{property:"og:type",content:"website"},null,-1),z=["content"],A=["content"],K=["content"],O=e("meta",{name:"twitter:card",content:"summary_large_image"},null,-1),W=["content"],X=["content"],Y=["content"],ee=["content"],te=["content"],se=["content"],ae=["content"],ne={class:"flex-1 p-4 selection:bg-red-400 selection:text-white bg-slate-50 dark:bg-slate-950"},oe={class:"text-sm ml-0 md:ml-4 lg:ml-6 xl:ml-8","aria-label":"Breadcrumb"},le={class:"list-reset flex items-center space-x-0"},re=e("li",null,[e("span",{class:"mx-1 text-slate-900 dark:text-slate-100"},"/")],-1),ie={class:"text-slate-900 dark:text-slate-100"},de={class:"flex items-center justify-center my-4 text-center font-bolder text-xl text-slate-900 dark:text-slate-100"},ce=["innerHTML"],ue={class:"space-y-6 max-w-4xl mx-auto my-8"},_e={key:0},me={class:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2"},pe={class:"space-y-4"},he={class:"font-medium block mb-1"},ge={class:"flex items-center space-x-4 pl-2"},be={class:"flex items-center space-x-2"},xe=["src"],ve={key:1},ye=e("span",null,"vs",-1),fe={class:"flex items-center space-x-2"},ke=["src"],we={key:1},Ce={key:0,class:"flex items-center space-x-2 mt-4"},$e=["disabled"],Me=["max"],De=["disabled"],Te={key:1},Se={class:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2"},Pe={class:"space-y-4"},Be={class:"font-medium block mb-1"},Fe={class:"flex items-center space-x-4 pl-2"},je={class:"flex items-center space-x-2"},Ve=["src"],Re={key:1},Le=e("span",null,"vs",-1),Ne={class:"flex items-center space-x-2"},Ue=["src"],He={key:1},Ie={key:0,class:"ml-4 text-xs text-green-700 dark:text-green-400 font-medium"},Ee={key:0,class:"flex items-center space-x-2 mt-4"},Ge=["disabled"],Je=["max"],Qe=["disabled"],m=10,tt={__name:"RaspisanieShow",setup(Ze){const{t:x}=R(),{rubric:a,scheduledTournaments:k,completedTournaments:w}=L().props,C=_(()=>[...k].sort((i,n)=>new Date(n.tournament_date_time)-new Date(i.tournament_date_time))),$=_(()=>[...w].sort((i,n)=>new Date(n.tournament_date_time)-new Date(i.tournament_date_time))),c=M(1),p=_(()=>Math.max(1,Math.ceil(C.value.length/m))),j=_(()=>{const i=(c.value-1)*m;return C.value.slice(i,i+m)}),v=i=>{c.value=Math.min(Math.max(1,i),p.value)},u=M(1),h=_(()=>Math.max(1,Math.ceil($.value.length/m))),V=_(()=>{const i=(u.value-1)*m;return $.value.slice(i,i+m)}),y=i=>{u.value=Math.min(Math.max(1,i),h.value)};return(i,n)=>(o(),N(I,{title:s(a).title,"can-login":i.$page.props.canLogin,"can-register":i.$page.props.canRegister},{default:f(()=>[D(s(U),null,{default:f(()=>[e("title",null,r(s(a).title),1),e("meta",{name:"title",content:s(a).title||""},null,8,E),e("meta",{name:"keywords",content:s(a).meta_keywords||""},null,8,G),e("meta",{name:"description",content:s(a).meta_desc||""},null,8,J),e("meta",{property:"og:title",content:s(a).title||""},null,8,Q),e("meta",{property:"og:description",content:s(a).meta_desc||""},null,8,Z),q,e("meta",{property:"og:url",content:`/rubrics/${s(a).url}`},null,8,z),e("meta",{property:"og:image",content:s(a).icon||""},null,8,A),e("meta",{property:"og:locale",content:s(a).locale||"ru_RU"},null,8,K),O,e("meta",{name:"twitter:title",content:s(a).title||""},null,8,W),e("meta",{name:"twitter:description",content:s(a).meta_desc||""},null,8,X),e("meta",{name:"twitter:image",content:s(a).icon||""},null,8,Y),e("meta",{name:"DC.title",content:s(a).title||""},null,8,ee),e("meta",{name:"DC.description",content:s(a).meta_desc||""},null,8,te),e("meta",{name:"DC.identifier",content:`/rubrics/${s(a).url}`},null,8,se),e("meta",{name:"DC.language",content:s(a).locale||"ru"},null,8,ae)]),_:1}),e("div",ne,[e("nav",oe,[e("ol",le,[e("li",null,[D(s(H),{href:"/",class:"hover:underline text-slate-900 dark:text-slate-100"},{default:f(()=>[T(r(s(x)("home")),1)]),_:1})]),re,e("li",ie,r(s(a).title),1)])]),e("h1",de,[s(a).icon?(o(),l("span",{key:0,class:"flex justify-center",innerHTML:s(a).icon},null,8,ce)):d("",!0),T(" "+r(s(a).title),1)]),e("section",ue,[s(k).length?(o(),l("div",_e,[e("h2",me,r(s(x)("typeSelectScheduled")),1),e("ul",pe,[(o(!0),l(S,null,P(j.value,t=>{var g,b;return o(),l("li",{key:t.id,class:"text-sm text-slate-700 dark:text-slate-200 border-b pb-2 border-gray-200 dark:border-gray-700"},[e("span",he,r(t.name)+" — "+r(t.tournament_date_time),1),e("div",ge,[e("div",be,[(g=t.fighter_red)!=null&&g.avatar?(o(),l("img",{key:0,src:`/storage/${t.fighter_red.avatar}`,alt:"Red Fighter",class:"w-8 h-8 object-cover rounded-full border border-gray-300 dark:border-gray-600"},null,8,xe)):d("",!0),t.fighter_red?(o(),l("span",ve,r(t.fighter_red.nickname),1)):d("",!0)]),ye,e("div",fe,[(b=t.fighter_blue)!=null&&b.avatar?(o(),l("img",{key:0,src:`/storage/${t.fighter_blue.avatar}`,alt:"Blue Fighter",class:"w-8 h-8 object-cover rounded-full border border-gray-300 dark:border-gray-600"},null,8,ke)):d("",!0),t.fighter_blue?(o(),l("span",we,r(t.fighter_blue.nickname),1)):d("",!0)])])])}),128))]),p.value>1?(o(),l("div",Ce,[e("button",{onClick:n[0]||(n[0]=t=>v(c.value-1)),disabled:c.value===1,class:"px-2 py-1 text-sm border rounded disabled:opacity-50"},"←",8,$e),B(e("input",{type:"number","onUpdate:modelValue":n[1]||(n[1]=t=>c.value=t),onChange:n[2]||(n[2]=t=>v(c.value)),min:1,max:p.value,class:"w-16 px-2 py-1 text-center border rounded"},null,40,Me),[[F,c.value,void 0,{number:!0}]]),e("span",null,"/ "+r(p.value),1),e("button",{onClick:n[3]||(n[3]=t=>v(c.value+1)),disabled:c.value===p.value,class:"px-2 py-1 text-sm border rounded disabled:opacity-50"},"→",8,De)])):d("",!0)])):d("",!0),s(w).length?(o(),l("div",Te,[e("h2",Se,r(s(x)("statusSelectCompleted")),1),e("ul",Pe,[(o(!0),l(S,null,P(V.value,t=>{var g,b;return o(),l("li",{key:t.id,class:"text-sm text-slate-700 dark:text-slate-200 border-b pb-2 border-gray-200 dark:border-gray-700"},[e("span",Be,r(t.name)+" — "+r(t.tournament_date_time),1),e("div",Fe,[e("div",je,[(g=t.fighter_red)!=null&&g.avatar?(o(),l("img",{key:0,src:`/storage/${t.fighter_red.avatar}`,alt:"Red Fighter",class:"w-8 h-8 object-cover rounded-full border border-gray-300 dark:border-gray-600"},null,8,Ve)):d("",!0),t.fighter_red?(o(),l("span",Re,r(t.fighter_red.nickname),1)):d("",!0)]),Le,e("div",Ne,[(b=t.fighter_blue)!=null&&b.avatar?(o(),l("img",{key:0,src:`/storage/${t.fighter_blue.avatar}`,alt:"Blue Fighter",class:"w-8 h-8 object-cover rounded-full border border-gray-300 dark:border-gray-600"},null,8,Ue)):d("",!0),t.fighter_blue?(o(),l("span",He,r(t.fighter_blue.nickname),1)):d("",!0)]),t.winner?(o(),l("span",Ie," 🏆 "+r(t.winner.nickname),1)):d("",!0)])])}),128))]),h.value>1?(o(),l("div",Ee,[e("button",{onClick:n[4]||(n[4]=t=>y(u.value-1)),disabled:u.value===1,class:"px-2 py-1 text-sm border rounded disabled:opacity-50"},"←",8,Ge),B(e("input",{type:"number","onUpdate:modelValue":n[5]||(n[5]=t=>u.value=t),onChange:n[6]||(n[6]=t=>y(u.value)),min:1,max:h.value,class:"w-16 px-2 py-1 text-center border rounded"},null,40,Je),[[F,u.value,void 0,{number:!0}]]),e("span",null,"/ "+r(h.value),1),e("button",{onClick:n[7]||(n[7]=t=>y(u.value+1)),disabled:u.value===h.value,class:"px-2 py-1 text-sm border rounded disabled:opacity-50"},"→",8,Qe)])):d("",!0)])):d("",!0)])])]),_:1},8,["title","can-login","can-register"]))}};export{tt as default};
