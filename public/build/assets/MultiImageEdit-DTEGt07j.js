import{u as I,l as x,C as w,m as n,o as u,i as g,k as d,w as V,f as t,I as c,aF as p,D as k,t as U}from"./vendor-KLnQVH-z.js";import{_ as C}from"./InputText-BNT2VvLh.js";const E={class:"multi-image-edit"},B={key:0,class:"mt-4"},D={class:"relative border border-slate-500 rounded-sm py-0.5 px-2"},L=["src"],M=["onUpdate:modelValue","placeholder"],z=["onUpdate:modelValue","placeholder"],A=["onUpdate:modelValue","placeholder"],N=["onClick"],T=t("svg",{class:"w-4 h-4 fill-current opacity-80",viewBox:"0 0 16 16"},[t("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm3.5 10.1l-1.4 1.4L8 9.4l-2.1 2.1-1.4-1.4L6.6 8 4.5 5.9l1.4-1.4L8 6.6l2.1-2.1 1.4 1.4L9.4 8l2.1 2.1z"})],-1),$=[T],j={key:1},S={__name:"MultiImageEdit",props:{images:{type:Array,default:()=>[]}},emits:["update:images","delete-image"],setup(h,{emit:v}){const{t:r}=I(),b=h,m=v,a=x([]);w(()=>b.images,s=>{a.value=s.map(e=>({id:e.id,order:e.order||0,url:e.url,alt:e.alt||"",caption:e.caption||""})).sort((e,o)=>e.order-o.order)},{immediate:!0});const i=()=>{m("update:images",a.value)},_=()=>{a.value.forEach((s,e)=>{s.order=e+1}),i()},f=s=>{const e=a.value[s];m("delete-image",e.id),a.value.splice(s,1),_()};return(s,e)=>(u(),n("div",E,[g(C,{value:d(r)("editImages")},null,8,["value"]),a.value.length?(u(),n("div",B,[g(d(k),{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=o=>a.value=o),group:"images","item-key":"id",onEnd:_,class:"grid grid-cols-4 gap-4"},{item:V(({element:o,index:y})=>[t("div",D,[t("img",{src:o.url,alt:"Existing Image",class:"h-40 w-full object-cover"},null,8,L),c(t("input",{"onUpdate:modelValue":l=>o.order=l,onInput:i,placeholder:d(r)("sort"),class:"w-full my-2 py-0.5 px-2 text-sm font-semibold border border-slate-500 rounded"},null,40,M),[[p,o.order]]),c(t("input",{"onUpdate:modelValue":l=>o.alt=l,onInput:i,placeholder:d(r)("seoAltImage"),class:"w-full my-2 py-0.5 px-2 text-sm font-semibold border border-slate-500 rounded"},null,40,z),[[p,o.alt]]),c(t("input",{"onUpdate:modelValue":l=>o.caption=l,onInput:i,placeholder:d(r)("seoTitleImage"),class:"w-full mb-2 py-0.5 px-2 text-sm font-semibold border border-slate-500 rounded"},null,40,A),[[p,o.caption]]),t("button",{type:"button",onClick:l=>f(y),class:"absolute top-2 right-2 bg-rose-500 hover:bg-rose-700 text-white rounded-sm p-1"},$,8,N)])]),_:1},8,["modelValue"])])):(u(),n("div",j,[t("p",null,U(d(r)("noData")),1)]))]))}};export{S as _};
