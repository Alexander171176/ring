import{u as j,T as U,z,C as M,e as $,o as u,w as c,f as s,i,p,t as o,k as e,A,B as x,m as _,F as w,v,q as C}from"./vendor-KLnQVH-z.js";import{A as L}from"./AdminLayout-DDIonVUW.js";import{T}from"./TitlePage-Dn5_Db7V.js";import{_ as y}from"./DefaultButton-mNfyXOKI.js";import{_ as g}from"./DeleteButton-D7o32YPn.js";import{_ as h,a as k,b as q}from"./InputText-BNT2VvLh.js";import{_ as V}from"./InputError-5M0RC1-a.js";/* empty css                                                                     */import"./vendor-axios-jn5v1YEJ.js";import"./vendor-lodash-p73LerAr.js";import"./ScrollButtons-D6M3P1oi.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-GNuCPEap.js";import"./LocaleSelectOption-DQWMhK86.js";import"./app-CpeRQVat.js";import"./auth-image-XbvYdkSi.js";const E={class:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto"},N={class:"p-4 bg-slate-50 dark:bg-slate-700 border border-blue-400 dark:border-blue-200 shadow-lg shadow-gray-500 dark:shadow-slate-400 bg-opacity-95 dark:bg-opacity-95"},S={class:"sm:flex sm:justify-between sm:items-center mb-5"},D=s("svg",{class:"w-4 h-4 fill-current text-slate-100 shrink-0 mr-2",viewBox:"0 0 16 16"},[s("path",{d:"M4.3 4.5c1.9-1.9 5.1-1.9 7 0 .7.7 1.2 1.7 1.4 2.7l2-.3c-.2-1.5-.9-2.8-1.9-3.8C10.1.4 5.7.4 2.9 3.1L.7.9 0 7.3l6.4-.7-2.1-2.1zM15.6 8.7l-6.4.7 2.1 2.1c-1.9 1.9-5.1 1.9-7 0-.7-.7-1.2-1.7-1.4-2.7l-2 .3c.2 1.5.9 2.8 1.9 3.8 1.4 1.4 3.1 2 4.9 2 1.8 0 3.6-.7 4.9-2l2.2 2.2.8-6.4z"})],-1),F=s("div",{class:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2"},null,-1),I={class:"mb-3 flex flex-col items-start"},O=s("span",{class:"text-red-500 dark:text-red-300 font-semibold"},"*",-1),G={class:"mb-3"},H=s("span",{class:"text-red-500 dark:text-red-300 font-semibold"},"*",-1),J={class:"mb-3"},K={class:"mb-3"},P={class:"flex flex-wrap justify-around"},Q={class:"w-96 mb-2 mr-3 bg-white dark:bg-sky-900 shadow-lg rounded-sm border border-slate-200"},W={class:"mb-3"},X={class:"px-5 py-4"},Y={class:"text-center font-semibold text-amber-500 dark:text-amber-200"},Z={class:"overflow-x-auto"},R={class:"table-auto w-full"},ss={class:"text-xs font-semibold uppercase text-slate-700 bg-slate-50 dark:bg-cyan-800 border-t border-b border-slate-200 dark:text-slate-100"},es={class:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px"},ts={class:"font-semibold text-left"},os={class:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap"},ls={class:"font-semibold text-left"},as={class:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap"},rs={class:"font-semibold text-center"},is={class:"text-sm divide-y divide-slate-200 dark:text-slate-100"},ds={class:"px-2 first:pl-5 last:pr-5 py-1 whitespace-nowrap px"},ns={class:"text-left"},cs={class:"px-2 first:pl-5 last:pr-5 py-1 whitespace-nowrap"},ps={class:"text-left"},ms={class:"px-2 first:pl-5 last:pr-5 py-1 whitespace-nowrap"},us={class:"flex justify-center"},_s={class:"bg-white mr-3 shadow-lg rounded-sm border border-slate-200 w-96 dark:bg-sky-900"},hs={class:"px-5 py-4"},fs={class:"text-center font-semibold text-amber-500 dark:text-amber-200"},bs={class:"overflow-x-auto"},xs={class:"table-auto w-full"},ws={class:"text-xs font-semibold uppercase text-slate-700 dark:text-slate-100 bg-slate-50 dark:bg-cyan-800 border-t border-b border-slate-200"},vs={class:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px"},ys={class:"font-semibold text-left"},gs={class:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap"},ks={class:"font-semibold text-left"},Vs={class:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap"},Bs={class:"font-semibold text-center"},js={class:"text-sm divide-y divide-slate-200 dark:text-slate-100"},Us={class:"px-2 first:pl-5 last:pr-5 py-1 whitespace-nowrap px"},zs={class:"text-left"},Ms={class:"px-2 first:pl-5 last:pr-5 py-1 whitespace-nowrap"},$s={class:"text-left"},As={class:"px-2 first:pl-5 last:pr-5 py-1 whitespace-nowrap"},Cs={class:"flex justify-center"},Ls={class:"flex items-center justify-center mt-4"},Ts=s("svg",{class:"w-4 h-4 fill-current text-slate-100 shrink-0 mr-2",viewBox:"0 0 16 16"},[s("path",{d:"M4.3 4.5c1.9-1.9 5.1-1.9 7 0 .7.7 1.2 1.7 1.4 2.7l2-.3c-.2-1.5-.9-2.8-1.9-3.8C10.1.4 5.7.4 2.9 3.1L.7.9 0 7.3l6.4-.7-2.1-2.1zM15.6 8.7l-6.4.7 2.1 2.1c-1.9 1.9-5.1 1.9-7 0-.7-.7-1.2-1.7-1.4-2.7l-2 .3c.2 1.5.9 2.8 1.9 3.8 1.4 1.4 3.1 2 4.9 2 1.8 0 3.6-.7 4.9-2l2.2 2.2.8-6.4z"})],-1),qs=s("svg",{class:"w-4 h-4 fill-current text-slate-100",viewBox:"0 0 16 16"},[s("path",{d:"M14.3 2.3L5 11.6 1.7 8.3c-.4-.4-1-.4-1.4 0-.4.4-.4 1 0 1.4l4 4c.2.2.4.3.7.3.3 0 .5-.1.7-.3l10-10c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0z"})],-1),Zs={__name:"Edit",props:{user:{type:Object,required:!0},roles:Array,permissions:Array},setup(m){var f,b;const{t}=j(),n=m,l=U({_method:"PUT",name:((f=n.user)==null?void 0:f.name)??"",email:((b=n.user)==null?void 0:b.email)??"",roles:[],permissions:[]}),B=()=>{var d;l.put(route("admin.users.update",(d=n.user)==null?void 0:d.id),{errorBag:"updateUser",onSuccess:()=>{},onError:r=>{console.error("Не удалось обновить пользователя:",r)}})};return z(()=>{var d,r;l.permissions=(d=n.user)==null?void 0:d.permissions,l.roles=(r=n.user)==null?void 0:r.roles}),M(()=>n.user,()=>{var d,r;l.permissions=(d=n.user)==null?void 0:d.permissions,l.roles=(r=n.user)==null?void 0:r.roles}),(d,r)=>(u(),$(L,{title:e(t)("editUser")},{header:c(()=>[i(T,null,{default:c(()=>[p(o(e(t)("editUser"))+" ID:"+o(n.user.id),1)]),_:1})]),default:c(()=>[s("div",E,[s("div",N,[s("div",S,[i(y,{href:d.route("admin.users.index")},{icon:c(()=>[D]),default:c(()=>[p(" "+o(e(t)("back")),1)]),_:1},8,["href"]),F]),s("form",{onSubmit:A(B,["prevent"]),class:"p-3 w-full"},[s("div",I,[i(h,{for:"name"},{default:c(()=>[O,p(" "+o(e(t)("userName")),1)]),_:1}),i(k,{id:"name",type:"text",modelValue:e(l).name,"onUpdate:modelValue":r[0]||(r[0]=a=>e(l).name=a),required:"",autocomplete:"name"},null,8,["modelValue"]),i(V,{class:"mt-2",message:e(l).errors.name},null,8,["message"])]),s("div",G,[i(h,{for:"email"},{default:c(()=>[H,p(" "+o(e(t)("userEmail")),1)]),_:1}),i(k,{id:"email",type:"email",modelValue:e(l).email,"onUpdate:modelValue":r[1]||(r[1]=a=>e(l).email=a),required:"",autocomplete:"email"},null,8,["modelValue"]),i(V,{class:"mt-2",message:e(l).errors.email},null,8,["message"])]),s("div",J,[i(h,{for:"roles",value:e(t)("roles"),class:"mb-1"},null,8,["value"]),i(e(x),{modelValue:e(l).roles,"onUpdate:modelValue":r[2]||(r[2]=a=>e(l).roles=a),options:n.roles,multiple:!0,"close-on-select":!0,placeholder:e(t)("select"),label:"name","track-by":"name",class:"pb-16"},null,8,["modelValue","options","placeholder"])]),s("div",K,[i(h,{for:"permissions",value:e(t)("permissions"),class:"mb-1"},null,8,["value"]),i(e(x),{modelValue:e(l).permissions,"onUpdate:modelValue":r[3]||(r[3]=a=>e(l).permissions=a),options:n.permissions,multiple:!0,"close-on-select":!0,placeholder:e(t)("select"),label:"name","track-by":"name",class:"pb-16"},null,8,["modelValue","options","placeholder"])]),s("div",P,[s("div",Q,[s("div",W,[s("div",X,[s("h2",Y,o(e(t)("userRoles")),1)]),s("div",Z,[s("table",R,[s("thead",ss,[s("tr",null,[s("th",es,[s("div",ts,o(e(t)("id")),1)]),s("th",os,[s("div",ls,o(e(t)("name")),1)]),s("th",as,[s("div",rs,o(e(t)("actions")),1)])])]),s("tbody",is,[(u(!0),_(w,null,v(m.user.roles,a=>(u(),_("tr",{key:a.id},[s("td",ds,[s("div",ns,o(a.id),1)]),s("td",cs,[s("div",ps,o(a.name),1)]),s("td",ms,[s("div",us,[i(g,{href:d.route("admin.users.roles.destroy",[m.user.id,a.id]),"preserve-scroll":""},null,8,["href"])])])]))),128))])])])])]),s("div",_s,[s("div",null,[s("div",hs,[s("h2",fs,o(e(t)("userPermissions")),1)]),s("div",bs,[s("table",xs,[s("thead",ws,[s("tr",null,[s("th",vs,[s("div",ys,o(e(t)("id")),1)]),s("th",gs,[s("div",ks,o(e(t)("name")),1)]),s("th",Vs,[s("div",Bs,o(e(t)("actions")),1)])])]),s("tbody",js,[(u(!0),_(w,null,v(m.user.permissions,a=>(u(),_("tr",{key:a.id},[s("td",Us,[s("div",zs,o(a.id),1)]),s("td",Ms,[s("div",$s,o(a.name),1)]),s("td",As,[s("div",Cs,[i(g,{href:d.route("admin.users.permissions.destroy",[m.user.id,a.id]),"preserve-scroll":""},null,8,["href"])])])]))),128))])])])])])]),s("div",Ls,[i(y,{href:d.route("admin.users.index"),class:"mb-3"},{icon:c(()=>[Ts]),default:c(()=>[p(" "+o(e(t)("back")),1)]),_:1},8,["href"]),i(q,{class:C(["ms-4",{"opacity-25":e(l).processing}]),disabled:e(l).processing},{icon:c(()=>[qs]),default:c(()=>[p(" "+o(e(t)("save")),1)]),_:1},8,["class","disabled"])])],32)])])]),_:1},8,["title"]))}};export{Zs as default};
