import{y as v,u as b,T as V,z as k,e as j,o as U,w as n,f as s,i as l,p as u,t as i,k as e,A as $,q as T}from"./vendor-KLnQVH-z.js";import{A as M}from"./AdminLayout-B5bZFClc.js";import{T as z}from"./TitlePage-Dn5_Db7V.js";import{_ as g}from"./DefaultButton-mNfyXOKI.js";import{_ as c,a as f,b as B}from"./InputText-BNT2VvLh.js";import{_ as d}from"./InputError-5M0RC1-a.js";import{_ as C}from"./MetaDescTextarea-CmFtzWFr.js";import{_ as x,a as p,b as h}from"./InputNumber-BojX-z2D.js";import{_ as N,a as S}from"./TinyEditor-G-2AJZ5r.js";import{_ as D}from"./MultiImageUpload-Bc_tB1VO.js";import{_ as q}from"./StatusSelect-BQBu8I-I.js";import"./vendor-axios-jn5v1YEJ.js";import"./vendor-lodash-p73LerAr.js";import"./ScrollButtons-BQ3VHXoa.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-GNuCPEap.js";import"./LocaleSelectOption-DmkMWodN.js";import"./app-1bgHo_eX.js";import"./auth-image-XbvYdkSi.js";const A={class:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-12xl mx-auto"},L={class:"p-4 bg-slate-50 dark:bg-slate-700 border border-blue-400 dark:border-blue-200 shadow-lg shadow-gray-500 dark:shadow-slate-400 bg-opacity-95 dark:bg-opacity-95"},E={class:"sm:flex sm:justify-between sm:items-center mb-2"},F=s("svg",{class:"w-4 h-4 fill-current text-slate-100 shrink-0 mr-2",viewBox:"0 0 16 16"},[s("path",{d:"M4.3 4.5c1.9-1.9 5.1-1.9 7 0 .7.7 1.2 1.7 1.4 2.7l2-.3c-.2-1.5-.9-2.8-1.9-3.8C10.1.4 5.7.4 2.9 3.1L.7.9 0 7.3l6.4-.7-2.1-2.1zM15.6 8.7l-6.4.7 2.1 2.1c-1.9 1.9-5.1 1.9-7 0-.7-.7-1.2-1.7-1.4-2.7l-2 .3c.2 1.5.9 2.8 1.9 3.8 1.4 1.4 3.1 2 4.9 2 1.8 0 3.6-.7 4.9-2l2.2 2.2.8-6.4z"})],-1),I=s("div",{class:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2"},null,-1),O={class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-4"},P={class:"flex flex-row items-center gap-2"},W={class:"flex flex-row items-center gap-2 w-auto"},G={class:"flex flex-row items-center gap-2"},H={class:"h-8 flex items-center"},J={class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-4"},K={class:"flex flex-row items-center gap-2 w-full"},Q={class:"flex flex-row items-center justify-end w-full gap-2"},R={class:"flex justify-start w-full"},X={class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-4"},Y={class:"flex flex-row items-center justify-end w-full"},Z={class:"mb-3 flex flex-col items-end w-96"},ee={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},te={class:"flex flex-row items-center justify-end w-full"},se={class:"h-8 flex items-center"},le={class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-4"},ae={class:"flex flex-row items-center justify-end w-full"},oe={class:"mb-3 flex flex-col items-start w-96"},re={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},ie={class:"flex flex-row items-center justify-end w-full"},me={class:"mb-3 flex flex-col items-start w-96"},ne={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},de={class:"mb-3 flex flex-col items-start"},ce={class:"flex justify-between w-full"},ue=s("span",{class:"text-red-500 dark:text-red-300 font-semibold"},"*",-1),fe={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},_e={class:"mb-3 flex flex-col items-start"},ge={class:"flex justify-between w-full"},xe={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},pe={class:"mb-3 flex flex-col items-start"},he={class:"flex items-center justify-center mt-4"},ye=s("svg",{class:"w-4 h-4 fill-current text-slate-100 shrink-0 mr-2",viewBox:"0 0 16 16"},[s("path",{d:"M4.3 4.5c1.9-1.9 5.1-1.9 7 0 .7.7 1.2 1.7 1.4 2.7l2-.3c-.2-1.5-.9-2.8-1.9-3.8C10.1.4 5.7.4 2.9 3.1L.7.9 0 7.3l6.4-.7-2.1-2.1zM15.6 8.7l-6.4.7 2.1 2.1c-1.9 1.9-5.1 1.9-7 0-.7-.7-1.2-1.7-1.4-2.7l-2 .3c.2 1.5.9 2.8 1.9 3.8 1.4 1.4 3.1 2 4.9 2 1.8 0 3.6-.7 4.9-2l2.2 2.2.8-6.4z"})],-1),we=s("svg",{class:"w-4 h-4 fill-current text-slate-100",viewBox:"0 0 16 16"},[s("path",{d:"M14.3 2.3L5 11.6 1.7 8.3c-.4-.4-1-.4-1.4 0-.4.4-.4 1 0 1.4l4 4c.2.2.4.3.7.3.3 0 .5-.1.7-.3l10-10c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0z"})],-1),Ie={__name:"Create",props:{images:Array},setup(ve){const _=v(),{t:r}=b(),t=V({sort:"0",activity:!1,locale:"",name:"",short:"",description:"",tournament_date_time:"",status:null,venue:"",city:"",country:"",weight_class_name:"",rounds_scheduled:"0",is_title_fight:!1,fighter_red_id:"",fighter_blue_id:"",winner_id:"",method_of_victory:"",round_of_finish:"",time_of_finish:"",images:[]}),y=m=>{if(!m)return"";const a=new Date(m);return isNaN(a.getTime())?"":a.toISOString().split("T")[0]};k(()=>{t.tournament_date_time&&(t.tournament_date_time=y(t.tournament_date_time))});const w=()=>{t.transform(m=>({...m,activity:m.activity?1:0,is_title_fight:m.is_title_fight?1:0})),t.post(route("admin.tournaments.store"),{forceFormData:!0,errorBag:"createTournament",preserveScroll:!0,onSuccess:m=>{_.success("Турнир успешно создан!")},onError:m=>{console.error("❌ Ошибки валидации:",m);const a=m[Object.keys(m)[0]];_.error(a||"Пожалуйста, проверьте правильность заполнения полей.")}})};return(m,a)=>(U(),j(M,{title:e(r)("addTournament")},{header:n(()=>[l(z,null,{default:n(()=>[u(i(e(r)("addTournament")),1)]),_:1})]),default:n(()=>[s("div",A,[s("div",L,[s("div",E,[l(g,{href:m.route("admin.tournaments.index")},{icon:n(()=>[F]),default:n(()=>[u(" "+i(e(r)("back")),1)]),_:1},8,["href"]),I]),s("form",{onSubmit:$(w,["prevent"]),enctype:"multipart/form-data",class:"p-3 w-full"},[s("div",O,[s("div",P,[l(x,{modelValue:e(t).activity,"onUpdate:modelValue":a[0]||(a[0]=o=>e(t).activity=o)},null,8,["modelValue"]),l(p,{for:"activity",text:e(r)("activity"),class:"text-sm h-8 flex items-center"},null,8,["text"])]),s("div",W,[l(N,{modelValue:e(t).locale,"onUpdate:modelValue":a[1]||(a[1]=o=>e(t).locale=o),errorMessage:e(t).errors.locale},null,8,["modelValue","errorMessage"]),l(d,{class:"mt-2 lg:mt-0",message:e(t).errors.locale},null,8,["message"])]),s("div",G,[s("div",H,[l(c,{for:"sort",value:e(r)("sort"),class:"text-sm"},null,8,["value"])]),l(h,{id:"sort",type:"number",modelValue:e(t).sort,"onUpdate:modelValue":a[2]||(a[2]=o=>e(t).sort=o),autocomplete:"sort",class:"w-full lg:w-28"},null,8,["modelValue"]),l(d,{class:"mt-2 lg:mt-0",message:e(t).errors.sort},null,8,["message"])])]),s("div",J,[s("div",K,[l(x,{modelValue:e(t).is_title_fight,"onUpdate:modelValue":a[3]||(a[3]=o=>e(t).is_title_fight=o)},null,8,["modelValue"]),l(p,{for:"is_title_fight",text:e(r)("isTitleFight"),class:"text-sm h-8 flex items-center"},null,8,["text"])]),s("div",Q,[s("div",R,[l(c,{for:"tournament_date_time",value:e(r)("date"),class:"mb-1 lg:mb-0 lg:mr-2"},null,8,["value"]),l(f,{id:"tournament_date_time",type:"date",modelValue:e(t).tournament_date_time,"onUpdate:modelValue":a[4]||(a[4]=o=>e(t).tournament_date_time=o),autocomplete:"tournament_date_time",class:"w-full max-w-56"},null,8,["modelValue"]),l(d,{class:"mt-1 sm:mt-0",message:e(t).errors.tournament_date_time},null,8,["message"])])]),l(q,{modelValue:e(t).status,"onUpdate:modelValue":a[5]||(a[5]=o=>e(t).status=o),error:e(t).errors.status},null,8,["modelValue","error"])]),s("div",X,[s("div",Y,[l(c,{for:"weight_class_name",class:"mt-4 mr-2"},{default:n(()=>[u(i(e(r)("weightClassName")),1)]),_:1}),s("div",Z,[s("div",ee,i(e(t).weight_class_name.length)+" / 100 "+i(e(r)("characters")),1),l(f,{id:"weight_class_name",type:"text",modelValue:e(t).weight_class_name,"onUpdate:modelValue":a[6]||(a[6]=o=>e(t).weight_class_name=o),maxlength:"100",autocomplete:"weight_class_name",placeholder:e(r)("placeholderWeightClassName")},null,8,["modelValue","placeholder"]),l(d,{class:"mt-2",message:e(t).errors.weight_class_name},null,8,["message"])])]),s("div",te,[s("div",se,[l(c,{for:"rounds_scheduled",value:e(r)("roundsScheduled"),class:"mr-2 w-auto"},null,8,["value"])]),l(h,{id:"rounds_scheduled",type:"number",modelValue:e(t).rounds_scheduled,"onUpdate:modelValue":a[7]||(a[7]=o=>e(t).rounds_scheduled=o),autocomplete:"rounds_scheduled",class:"max-w-20"},null,8,["modelValue"]),l(d,{class:"mt-2 lg:mt-0",message:e(t).errors.rounds_scheduled},null,8,["message"])])]),s("div",le,[s("div",ae,[l(c,{for:"country",class:"mt-4 mr-2"},{default:n(()=>[u(i(e(r)("country")),1)]),_:1}),s("div",oe,[s("div",re,i(e(t).country.length)+" / 100 "+i(e(r)("characters")),1),l(f,{class:"max-w-80",id:"country",type:"text",modelValue:e(t).country,"onUpdate:modelValue":a[8]||(a[8]=o=>e(t).country=o),maxlength:"100",required:"",autocomplete:"country"},null,8,["modelValue"]),l(d,{class:"mt-2",message:e(t).errors.country},null,8,["message"])])]),s("div",ie,[l(c,{for:"country",class:"mt-4 mr-2"},{default:n(()=>[u(i(e(r)("city")),1)]),_:1}),s("div",me,[s("div",ne,i(e(t).city.length)+" / 100 "+i(e(r)("characters")),1),l(f,{class:"max-w-80",id:"city",type:"text",modelValue:e(t).city,"onUpdate:modelValue":a[9]||(a[9]=o=>e(t).city=o),maxlength:"100",required:"",autocomplete:"city"},null,8,["modelValue"]),l(d,{class:"mt-2",message:e(t).errors.city},null,8,["message"])])])]),s("div",de,[s("div",ce,[l(c,{for:"name"},{default:n(()=>[ue,u(" "+i(e(r)("title")),1)]),_:1}),s("div",fe,i(e(t).name.length)+" / 255 "+i(e(r)("characters")),1)]),l(f,{id:"name",type:"text",modelValue:e(t).name,"onUpdate:modelValue":a[10]||(a[10]=o=>e(t).name=o),maxlength:"255",required:"",autocomplete:"name"},null,8,["modelValue"]),l(d,{class:"mt-2",message:e(t).errors.name},null,8,["message"])]),s("div",_e,[s("div",ge,[l(c,{for:"short",value:e(r)("shortDescription")},null,8,["value"]),s("div",xe,i(e(t).short.length)+" / 255 "+i(e(r)("characters")),1)]),l(C,{modelValue:e(t).short,"onUpdate:modelValue":a[11]||(a[11]=o=>e(t).short=o),class:"w-full"},null,8,["modelValue"]),l(d,{class:"mt-2",message:e(t).errors.short},null,8,["message"])]),s("div",pe,[l(c,{for:"description",value:e(r)("description")},null,8,["value"]),l(S,{modelValue:e(t).description,"onUpdate:modelValue":a[12]||(a[12]=o=>e(t).description=o),height:500},null,8,["modelValue"]),l(d,{class:"mt-2",message:e(t).errors.description},null,8,["message"])]),l(D,{"onUpdate:images":a[13]||(a[13]=o=>e(t).images=o)}),s("div",he,[l(g,{href:m.route("admin.tournaments.index"),class:"mb-3"},{icon:n(()=>[ye]),default:n(()=>[u(" "+i(e(r)("back")),1)]),_:1},8,["href"]),l(B,{class:T(["ms-4 mb-0",{"opacity-25":e(t).processing}]),disabled:e(t).processing},{icon:n(()=>[we]),default:n(()=>[u(" "+i(e(r)("save")),1)]),_:1},8,["class","disabled"])])],32)])])]),_:1},8,["title"]))}};export{Ie as default};
