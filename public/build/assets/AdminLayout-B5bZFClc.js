import{u as z,m as k,o as f,i as s,w as d,p as h,t as u,k as r,l as y,C as D,z as N,f as t,n as A,I as R,aF as U,ae as re,N as ee,O as te,J,e as M,A as W,F as O,v as ae,q as T,aW as j,E as q,Q as E,a5 as H,G as S,D as K,aX as ie,aY as le,aZ as de,a_ as ue,K as ne,y as ce,b3 as me,a$ as pe}from"./vendor-KLnQVH-z.js";import{D as ve,_ as V,a as Q,s as he,S as ge}from"./ScrollButtons-BQ3VHXoa.js";import{_ as w,A as se,a as fe}from"./ResponsiveNavLink-GNuCPEap.js";import{a as F}from"./vendor-axios-jn5v1YEJ.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as be}from"./LocaleSelectOption-DmkMWodN.js";import{a as xe}from"./auth-image-XbvYdkSi.js";const ke={class:"pt-2 pb-24 space-y-1"},we={__name:"ResponsiveNavLinks",setup(g){const{t:n}=z();return(e,m)=>(f(),k("div",ke,[s(w,{href:e.route("admin.index"),active:e.route().current("admin.index")},{default:d(()=>[h(u(r(n)("adminPanel")),1)]),_:1},8,["href","active"]),s(w,{href:e.route("admin.users.index"),active:e.route().current("admin.users.index")},{default:d(()=>[h(u(r(n)("users")),1)]),_:1},8,["href","active"]),s(w,{href:e.route("admin.roles.index"),active:e.route().current("admin.roles.index")},{default:d(()=>[h(u(r(n)("roles")),1)]),_:1},8,["href","active"]),s(w,{href:e.route("admin.permissions.index"),active:e.route().current("admin.permissions.index")},{default:d(()=>[h(u(r(n)("permissions")),1)]),_:1},8,["href","active"]),s(w,{href:e.route("admin.athletes.index"),active:e.route().current("admin.athletes.index")},{default:d(()=>[h(u(r(n)("athletes")),1)]),_:1},8,["href","active"]),s(w,{href:e.route("admin.tournaments.index"),active:e.route().current("admin.tournaments.index")},{default:d(()=>[h(u(r(n)("tournaments")),1)]),_:1},8,["href","active"]),s(w,{href:e.route("admin.rubrics.index"),active:e.route().current("admin.rubrics.index")},{default:d(()=>[h(u(r(n)("rubrics")),1)]),_:1},8,["href","active"]),s(w,{href:e.route("admin.sections.index"),active:e.route().current("admin.sections.index")},{default:d(()=>[h(u(r(n)("sections")),1)]),_:1},8,["href","active"]),s(w,{href:e.route("admin.articles.index"),active:e.route().current("admin.articles.index")},{default:d(()=>[h(u(r(n)("posts")),1)]),_:1},8,["href","active"]),s(w,{href:e.route("admin.tags.index"),active:e.route().current("admin.tags.index")},{default:d(()=>[h(u(r(n)("tags")),1)]),_:1},8,["href","active"]),s(w,{href:e.route("admin.comments.index"),active:e.route().current("admin.comments.index")},{default:d(()=>[h(u(r(n)("comments")),1)]),_:1},8,["href","active"]),s(w,{href:e.route("admin.banners.index"),active:e.route().current("admin.banners.index")},{default:d(()=>[h(u(r(n)("banners")),1)]),_:1},8,["href","active"]),s(w,{href:e.route("admin.videos.index"),active:e.route().current("admin.videos.index")},{default:d(()=>[h(u(r(n)("videos")),1)]),_:1},8,["href","active"]),s(w,{href:e.route("admin.reports.index"),active:e.route().current("admin.reports.index")},{default:d(()=>[h(u(r(n)("reports")),1)]),_:1},8,["href","active"]),s(w,{href:e.route("admin.charts.index"),active:e.route().current("admin.charts.index")},{default:d(()=>[h(u(r(n)("charts")),1)]),_:1},8,["href","active"]),s(w,{href:e.route("admin.settings.index"),active:e.route().current("admin.settings.index")},{default:d(()=>[h(u(r(n)("settings")),1)]),_:1},8,["href","active"]),s(w,{href:e.route("admin.parameters.index"),active:e.route().current("admin.parameters.index")},{default:d(()=>[h(u(r(n)("parameters")),1)]),_:1},8,["href","active"]),s(w,{href:e.route("admin.logs.index"),active:e.route().current("admin.logs.index")},{default:d(()=>[h(u(r(n)("logs")),1)]),_:1},8,["href","active"]),s(w,{href:e.route("admin.phpinfo.index"),active:e.route().current("admin.phpinfo.index")},{default:d(()=>[h("phpinfo")]),_:1},8,["href","active"]),s(w,{href:e.route("admin.composer.index"),active:e.route().current("admin.composer.index")},{default:d(()=>[h("composer")]),_:1},8,["href","active"]),s(w,{href:e.route("admin.package.index"),active:e.route().current("admin.package.index")},{default:d(()=>[h("package")]),_:1},8,["href","active"]),s(w,{href:e.route("admin.env.index"),active:e.route().current("admin.env.index")},{default:d(()=>[h("env")]),_:1},8,["href","active"]),s(w,{href:e.route("admin.components.index"),active:e.route().current("admin.components.index")},{default:d(()=>[h(u(r(n)("components")),1)]),_:1},8,["href","active"]),s(w,{href:e.route("admin.diagrams.index"),active:e.route().current("admin.diagrams.index")},{default:d(()=>[h(u(r(n)("diagrams")),1)]),_:1},8,["href","active"]),s(w,{href:e.route("admin.plugins.index"),active:e.route().current("admin.plugins.index")},{default:d(()=>[h(u(r(n)("plugins")),1)]),_:1},8,["href","active"]),s(w,{href:e.route("dashboard"),active:e.route().current("dashboard")},{default:d(()=>[h(u(r(n)("dashboard")),1)]),_:1},8,["href","active"])]))}},X=g=>(ee("data-v-6a1bc83d"),g=g(),te(),g),_e=X(()=>t("svg",{class:"w-6 h-6",viewBox:"0 0 20 20"},[t("circle",{fill:"none",class:"stroke-red-300 dark:stroke-violet-500",cx:"9.997",cy:"10",r:"3.31"}),t("path",{fill:"none",class:"stroke-red-300 dark:stroke-violet-500",d:"M18.488,12.285 L16.205,16.237 C15.322,15.496 14.185,15.281 13.303,15.791 C12.428,16.289 12.047,17.373 12.246,18.5 L7.735,18.5 C7.938,17.374 7.553,16.299 6.684,15.791 C5.801,15.27 4.655,15.492 3.773,16.237 L1.5,12.285 C2.573,11.871 3.317,10.999 3.317,9.991 C3.305,8.98 2.573,8.121 1.5,7.716 L3.765,3.784 C4.645,4.516 5.794,4.738 6.687,4.232 C7.555,3.722 7.939,2.637 7.735,1.5 L12.263,1.5 C12.072,2.637 12.441,3.71 13.314,4.22 C14.206,4.73 15.343,4.516 16.225,3.794 L18.487,7.714 C17.404,8.117 16.661,8.988 16.67,10.009 C16.672,11.018 17.415,11.88 18.488,12.285 L18.488,12.285 Z"})],-1)),ye=[_e],$e={key:0,class:"fixed top-0 left-0 right-0 bg-slate-700 dark:bg-slate-100 bg-opacity-90 dark:bg-opacity-90 shadow-md font-semibold text-center text-lg z-40 h-12 py-2 overflow-y-auto flex items-center justify-center space-x-4"},Se={class:"flex items-center space-x-2"},Le=X(()=>t("span",{class:"text-teal-200 dark:text-teal-600"},"HEX:#",-1)),Ce=X(()=>t("span",{class:"text-red-200 dark:text-red-400"},"RGB:",-1)),Te={__name:"TopPanel",setup(g){const n=y(!1),e=()=>{n.value&&$()&&C(),n.value=!n.value,n.value&&_()},m=y(""),c=y(""),a=y(99),p=l=>{/[^A-Fa-f0-9]/.test(l.target.value)&&(alert("Разрешён ввод латинских символов A-F и чисел 0-9"),l.target.value="")},b=l=>{/[^0-9,]/.test(l.target.value)&&(alert("Разрешён ввод цифр и запятых"),l.target.value="")},x=l=>{if(l.length!==6)return"";const i=parseInt(l,16),v=i>>16&255,B=i>>8&255,I=i&255;return`${v},${B},${I}`},o=l=>{const i=l.split(",").map(Number);return i.length!==3||i.some(isNaN)?"":i.map(v=>v.toString(16).padStart(2,"0")).join("")},$=()=>m.value.length===6||c.value.split(",").length===3&&c.value.split(",").every(l=>!isNaN(l)&&l>=0&&l<=255),L=()=>{const l=a.value/100;let i;m.value?i=`#${m.value}`:c.value?i=`rgb(${c.value})`:i="rgba(21,94,117,1)";const v=document.getElementById("widgetPanel");v&&(v.style.backgroundColor=i,v.style.opacity=l)},C=async()=>{const l=m.value?`#${m.value}`:`rgb(${c.value})`,i=a.value/100;try{await F.post("/api/settings/widget-panel",{color:l,opacity:i})}catch(v){console.error("Error saving widget panel color:",v)}},_=async()=>{try{const l=await F.get("/api/settings/widget-panel"),{color:i,opacity:v}=l.data;i&&v!==void 0&&(m.value=i.startsWith("#")?i.substring(1):o(i),c.value=x(m.value),a.value=v*100)}catch(l){console.error("Error loading widget panel values:",l)}};return D(m,l=>{c.value=x(l),L()}),D(c,l=>{m.value=o(l),L()}),D(a,()=>{L()}),N(()=>{_()}),(l,i)=>(f(),k("div",null,[t("button",{class:"fixed top-0 right-3 z-50 hidden md:inline-block px-3 py-3 cursor-pointer",onClick:e},ye),s(re,{name:"top-panel"},{default:d(()=>[n.value?(f(),k("div",$e,[t("form",Se,[Le,R(t("input",{maxlength:"6",size:"6",id:"out",name:"out","onUpdate:modelValue":i[0]||(i[0]=v=>m.value=v),onKeyup:p,onInput:i[1]||(i[1]=(...v)=>l.changeColor&&l.changeColor(...v)),class:"border rounded px-2 py-1 w-20 text-lg"},null,544),[[U,m.value]]),Ce,R(t("input",{maxlength:"12",size:"12",name:"out2","onUpdate:modelValue":i[2]||(i[2]=v=>c.value=v),onKeyup:b,onInput:i[3]||(i[3]=(...v)=>l.changeColor&&l.changeColor(...v)),class:"border rounded px-2 py-1 w-32 text-lg"},null,544),[[U,c.value]]),R(t("input",{type:"range",class:"input-range ml-2",id:"inputr",name:"inputr",min:"0",max:"99","onUpdate:modelValue":i[4]||(i[4]=v=>a.value=v),onInput:i[5]||(i[5]=(...v)=>l.resizeInput&&l.resizeInput(...v))},null,544),[[U,a.value]])])])):A("",!0)]),_:1})]))}},Ae=G(Te,[["__scopeId","data-v-6a1bc83d"]]),Ie={class:"sticky top-0 bg-gradient-to-b from-slate-100 to-slate-300 dark:bg-gradient-to-b dark:from-slate-700 dark:to-slate-900 border-b border-slate-200 dark:border-slate-700 z-20"},De={class:"border-b border-gray-100"},Ne={class:"max-w-full mx-auto px-4 sm:px-0"},Me={class:"flex items-center justify-between h-10"},ze={class:"flex items-center justify-center"},Oe={class:"shrink-0 flex items-center md:hidden"},Pe={class:"hidden sm:flex sm:items-center sm:ms-6"},Ve={class:"ms-3 relative"},Ee={key:0,class:"flex items-center px-2 py-1 font-semibold text-sm text-sky-600 dark:text-slate-100 border-2 border-transparent rounded-full focus:outline-none focus:border-gray-400 transition"},Be=["src","alt"],je={key:1,class:"inline-flex rounded-md"},He={type:"button",class:"inline-flex items-center bg-white active:bg-gray-50 px-3 py-2 border border-transparent rounded-md text-sm leading-4 font-medium text-slate-500 hover:text-slate-700 focus:outline-none focus:bg-gray-50 transition ease-in-out duration-150"},Fe=t("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})],-1),Je={class:"block px-4 py-2 text-sm text-slate-400"},Re=t("div",{class:"border-t border-gray-200"},null,-1),Ue={class:"ms-3 relative"},We={class:"inline-flex rounded-md"},Ke={type:"button",class:"inline-flex items-center bg-white dark:bg-slate-500 active:bg-gray-50 px-2 py-1 border border-transparent rounded-xs text-sm leading-4 font-medium text-slate-500 dark:text-slate-100 hover:text-slate-700 focus:outline-none focus:bg-gray-50 transition ease-in-out duration-150"},Ze=t("svg",{class:"ms-2 -me-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 15L12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"})],-1),Ge={class:"w-60"},Xe={class:"block px-4 py-2 text-sm text-slate-400"},Ye=t("div",{class:"w-60 border-t border-gray-200"},null,-1),qe={class:"block px-4 py-2 text-sm text-slate-400"},Qe=["onSubmit"],et={class:"flex items-center"},tt={key:0,class:"me-2 h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},at=t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),nt=[at],st={class:"mx-2 flex items-center"},ot={class:"-me-2 flex items-center sm:hidden"},rt={class:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24"},it={key:0,class:"bg-slate-100 dark:bg-sky-900 shadow"},lt={class:"max-w-7xl mx-auto py-4 px-4 sm:px-4 lg:px-8"},dt={__name:"Header",props:{title:String,currentTime:String,showingNavigationDropdown:Boolean},emits:["toggleNavigationDropdown"],setup(g,{emit:n}){const{t:e}=z(),m=a=>{q.put(route("current-team.update"),{team_id:a.id},{preserveState:!1})},c=()=>{q.post(route("logout"))};return(a,p)=>(f(),k(O,null,[t("div",Ie,[s(Ae),t("nav",De,[t("div",Ne,[t("div",Me,[t("div",ze,[t("div",Oe,[s(r(J),{href:a.route("dashboard")},{default:d(()=>[s(se,{class:"block h-9 w-auto"})]),_:1},8,["href"])]),s(ve,{class:"relative z-10"})]),t("div",Pe,[t("div",Ve,[s(Q,{align:"right",width:"60",class:"relative z-10"},{trigger:d(()=>[a.$page.props.jetstream.managesProfilePhotos?(f(),k("button",Ee,[t("img",{class:"h-8 w-8 mr-2 rounded-full object-cover",src:a.$page.props.auth.user.profile_photo_url,alt:a.$page.props.auth.user.name},null,8,Be),t("span",null,u(a.$page.props.auth.user.email),1)])):(f(),k("span",je,[t("button",He,[h(u(a.$page.props.auth.user.name)+" ",1),Fe])]))]),content:d(()=>[t("div",Je,u(r(e)("accountManagement")),1),s(V,{href:a.route("profile.show")},{default:d(()=>[h(u(r(e)("profile")),1)]),_:1},8,["href"]),a.$page.props.jetstream.hasApiFeatures?(f(),M(V,{key:0,href:a.route("api-tokens.index")},{default:d(()=>[h(u(r(e)("apiTokens")),1)]),_:1},8,["href"])):A("",!0),Re,t("form",{onSubmit:W(c,["prevent"])},[s(V,{as:"button"},{default:d(()=>[h(u(r(e)("logout")),1)]),_:1})],32)]),_:1})]),t("div",Ue,[a.$page.props.jetstream.hasTeamFeatures?(f(),M(Q,{key:0,align:"right",width:"60",class:"relative z-10"},{trigger:d(()=>[t("span",We,[t("button",Ke,[h(u(a.$page.props.auth.user.current_team.name)+" ",1),Ze])])]),content:d(()=>[t("div",Ge,[t("div",Xe,u(r(e)("teamManagement")),1),s(V,{href:a.route("teams.show",a.$page.props.auth.user.current_team)},{default:d(()=>[h(u(r(e)("teamSettings")),1)]),_:1},8,["href"]),a.$page.props.jetstream.canCreateTeams?(f(),M(V,{key:0,href:a.route("teams.create")},{default:d(()=>[h(u(r(e)("createNewTeam")),1)]),_:1},8,["href"])):A("",!0),a.$page.props.auth.user.all_teams.length>1?(f(),k(O,{key:1},[Ye,t("div",qe,u(r(e)("switchTeams")),1),(f(!0),k(O,null,ae(a.$page.props.auth.user.all_teams,b=>(f(),k("form",{key:b.id,onSubmit:W(x=>m(b),["prevent"])},[s(V,{as:"button"},{default:d(()=>[t("div",et,[b.id==a.$page.props.auth.user.current_team_id?(f(),k("svg",tt,nt)):A("",!0),t("div",null,u(b.name),1)])]),_:2},1024)],40,Qe))),128))],64)):A("",!0)])]),_:1})):A("",!0)]),t("div",st,[s(fe,{class:"relative z-10"})])]),t("div",ot,[t("button",{class:"inline-flex items-center justify-center p-2 rounded-md text-slate-400 hover:text-slate-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-slate-500 transition duration-150 ease-in-out",onClick:p[0]||(p[0]=b=>a.$emit("toggleNavigationDropdown"))},[(f(),k("svg",rt,[t("path",{class:T({hidden:g.showingNavigationDropdown,"inline-flex":!g.showingNavigationDropdown}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"},null,2),t("path",{class:T({hidden:!g.showingNavigationDropdown,"inline-flex":g.showingNavigationDropdown}),"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,2)]))])])])]),t("div",{class:T([{block:g.showingNavigationDropdown,hidden:!g.showingNavigationDropdown},"sm:hidden"])},[s(we)],2)])]),a.$slots.header?(f(),k("header",it,[t("div",lt,[j(a.$slots,"header")])])):A("",!0)],64))}},ut=["innerHTML"],Z={__name:"DraggableSidebarLink",props:{id:String,expanded:Boolean},setup(g){const{siteSettings:n}=E().props,e=g,m=y(!1);let c;const a=()=>{m.value=document.documentElement.classList.contains("dark")};N(()=>{a(),c=new MutationObserver(a),c.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}),H(()=>{c&&c.disconnect()});const p=S(()=>m.value?n.AdminSidebarDarkText||"text-slate-200":n.AdminSidebarLightText||"text-slate-200"),b=S(()=>m.value?n.AdminSidebarDarkHoverText||"text-orange-300":n.AdminSidebarLightHoverText||"text-orange-300"),x=S(()=>m.value?n.AdminSidebarDarkActiveText||"text-yellow-200":n.AdminSidebarLightActiveText||"text-yellow-200"),{t:o}=z(),{props:$}=E(),L={admin:{label:o("adminPanel"),route:"admin.index"},apiTokens:{label:o("apiTokens"),route:"api-tokens.index"},teamSettings:{label:o("teamSettings"),route:"teams.show",params:{team:$.auth.user.current_team}},users:{label:o("users"),route:"admin.users.index"},roles:{label:o("roles"),route:"admin.roles.index"},permissions:{label:o("permissions"),route:"admin.permissions.index"},athletes:{label:o("athletes"),route:"admin.athletes.index"},tournaments:{label:o("tournaments"),route:"admin.tournaments.index"},rubrics:{label:o("rubrics"),route:"admin.rubrics.index"},sections:{label:o("sections"),route:"admin.sections.index"},articles:{label:o("posts"),route:"admin.articles.index"},tags:{label:o("tags"),route:"admin.tags.index"},comments:{label:o("comments"),route:"admin.comments.index"},banners:{label:o("banners"),route:"admin.banners.index"},videos:{label:o("videos"),route:"admin.videos.index"},reports:{label:o("reports"),route:"admin.reports.index"},charts:{label:o("charts"),route:"admin.charts.index"},diagrams:{label:o("diagrams"),route:"admin.diagrams.index"},settings:{label:o("settings"),route:"admin.settings.index"},parameters:{label:o("parameters"),route:"admin.parameters.index"},logs:{label:o("logs"),route:"admin.logs.index"},phpinfo:{label:"phpinfo",route:"admin.phpinfo.index"},composer:{label:"composer",route:"admin.composer.index"},package:{label:"package",route:"admin.package.index"},env:{label:"env",route:"admin.env.index"},components:{label:o("components"),route:"admin.components.index"},plugins:{label:o("plugins"),route:"admin.plugins.index"}},C=S(()=>L[e.id]),_=S(()=>he[e.id]),l=S(()=>C.value.route===route().current()?`flex items-center px-1 pt-1 text-sm font-medium leading-3 ${x.value} hover:${b.value} focus:${b.value} focus:outline-none transition duration-150 ease-in-out`:`flex items-center px-1 pt-1 text-sm font-medium leading-3 ${p.value} hover:${x.value} focus:${x.value} focus:outline-none transition duration-150 ease-in-out`),i=S(()=>e.expanded?"mb-1":"mb-3"),v=S(()=>e.expanded?"ml-3 opacity-100":"ml-3 opacity-0 whitespace-nowrap overflow-hidden");return(B,I)=>(f(),k("li",{class:T(i.value)},[s(r(J),{href:B.route(C.value.route,C.value.params||{}),class:T(l.value)},{default:d(()=>[(f(),k("svg",{class:"shrink-0 h-4 w-4",viewBox:"0 0 24 24",innerHTML:_.value},null,8,ut)),t("span",{class:T(["text-sm font-medium transition-opacity duration-200 max-w-full",v.value])},u(C.value.label),3)]),_:1},8,["href","class"])],2))}},ct=t("br",null,null,-1),mt={__name:"DraggableSidebarGroupLink",props:{expanded:Boolean},emits:["update:mainLinks","update:hiddenLinks"],setup(g,{emit:n}){const{siteSettings:e}=E().props,m=y(!1);let c;const a=()=>{m.value=document.documentElement.classList.contains("dark")};N(()=>{a(),c=new MutationObserver(a),c.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}),H(()=>{c&&c.disconnect()});const p=S(()=>m.value?e.AdminSidebarDarkActiveText||"text-yellow-200":e.AdminSidebarLightActiveText||"text-yellow-200"),b=n,{t:x}=z(),o=y(JSON.parse(localStorage.getItem("mainLinks"))||["admin","athletes","tournaments","rubrics","sections","articles","tags","comments","banners","videos","reports","charts","users","roles","permissions","settings","diagrams","plugins"]),$=y(JSON.parse(localStorage.getItem("hiddenLinks"))||["apiTokens","teamSettings"]),L=y(!1),C=()=>{L.value=!L.value},_=()=>{localStorage.setItem("mainLinks",JSON.stringify(o.value)),localStorage.setItem("hiddenLinks",JSON.stringify($.value)),b("update:mainLinks",o.value),b("update:hiddenLinks",$.value)};return D(o,l=>{localStorage.setItem("mainLinks",JSON.stringify(l)),b("update:mainLinks",l)}),D($,l=>{localStorage.setItem("hiddenLinks",JSON.stringify(l)),b("update:hiddenLinks",l)}),N(()=>{o.value=JSON.parse(localStorage.getItem("mainLinks"))||o.value,$.value=JSON.parse(localStorage.getItem("hiddenLinks"))||$.value}),(l,i)=>(f(),k(O,null,[s(r(K),{modelValue:o.value,"onUpdate:modelValue":i[0]||(i[0]=v=>o.value=v),onEnd:_,itemKey:"id",group:"links",tag:"ul"},{item:d(({element:v})=>[s(Z,{id:v,expanded:g.expanded},null,8,["id","expanded"])]),_:1},8,["modelValue"]),t("button",{onClick:C,class:"flex justify-center items-center w-full pt-3 mb-0"},[t("span",{class:T([[p.value],"text-xs uppercase font-semibold"])},u(r(x)("more")),3)]),L.value?(f(),M(r(K),{key:0,modelValue:$.value,"onUpdate:modelValue":i[1]||(i[1]=v=>$.value=v),onEnd:_,itemKey:"id",group:"links",tag:"ul",class:"my-3"},{item:d(({element:v})=>[s(Z,{id:v,expanded:g.expanded},null,8,["id","expanded"])]),_:1},8,["modelValue"])):A("",!0),ct],64))}},pt=t("br",null,null,-1),vt={__name:"DraggableSidebarSystemLinks",props:{expanded:Boolean},emits:["update:hiddenLinks"],setup(g,{emit:n}){const{siteSettings:e}=E().props,m=y(!1);let c;const a=()=>{m.value=document.documentElement.classList.contains("dark")};N(()=>{a(),c=new MutationObserver(a),c.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}),H(()=>{c&&c.disconnect()});const p=S(()=>m.value?e.AdminSidebarDarkActiveText||"text-yellow-200":e.AdminSidebarLightActiveText||"text-yellow-200"),b=n,{t:x}=z(),o=y(JSON.parse(localStorage.getItem("hiddenLinks"))||["logs","phpinfo","composer","package","env","parameters","components"]),$=y(!1),L=()=>{$.value=!$.value},C=()=>{localStorage.setItem("hiddenLinks",JSON.stringify(o.value)),b("update:hiddenLinks",o.value)};return D(o,_=>{localStorage.setItem("hiddenLinks",JSON.stringify(_)),b("update:hiddenLinks",_)}),N(()=>{o.value=JSON.parse(localStorage.getItem("hiddenLinks"))||o.value}),(_,l)=>(f(),k(O,null,[t("button",{onClick:L,class:"flex justify-center items-center w-full mb-0"},[t("span",{class:T([[p.value],"text-xs uppercase font-semibold"])},u(r(x)("systems")),3)]),$.value?(f(),M(r(K),{key:0,modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=i=>o.value=i),onEnd:C,itemKey:"id",group:"links",tag:"ul",class:"my-3"},{item:d(({element:i})=>[s(Z,{id:i,expanded:g.expanded},null,8,["id","expanded"])]),_:1},8,["modelValue"])):A("",!0),pt],64))}},ht={__name:"SidebarLinkPlugin",props:{href:String,active:Boolean,expanded:Boolean},setup(g){const n=g,e=S(()=>n.active?"flex items-center px-1 pt-1 text-sm font-medium leading-3 text-yellow-100 focus:outline-none transition duration-150 ease-in-out":"flex items-center px-1 pt-1 text-sm font-medium leading-3 text-slate-300 hover:text-yellow-100 focus:outline-none focus:text-yellow-100 transition duration-150 ease-in-out"),m=S(()=>n.expanded?"mb-1":"mb-3"),c=S(()=>n.expanded?"ml-3 opacity-100":"ml-3 whitespace-nowrap overflow-hidden");return(a,p)=>(f(),k("li",{class:T(m.value)},[s(r(J),{href:g.href,class:T(e.value)},{default:d(()=>[j(a.$slots,"default"),t("span",{class:T(["text-sm font-medium duration-200 max-w-full",c.value])},[j(a.$slots,"text")],2)]),_:3},8,["href","class"])],2))}},gt={class:"flex justify-around items-center mb-5 pr-3 md:px-0"},ft=t("path",{class:"text-slate-400 hover:text-red-400",d:"M19.586 11l-5-5L16 4.586 23.414 12 16 19.414 14.586 18l5-5H7v-2z"},null,-1),bt=t("path",{class:"text-slate-600",d:"M3 23H1V1h2z"},null,-1),xt=[ft,bt],kt={key:1,class:"text-indigo-300 font-semibold text-md hidden 2xl:block"},wt={class:"space-y-2"},_t=["innerHTML"],yt={__name:"Sidebar",props:{sidebarOpen:Boolean,sidebarTitle:String},emits:["close-sidebar"],setup(g,{emit:n}){ie.add(le);const{t:e}=z(),{siteSettings:m}=E().props,c=g,a=y(!1);let p;const b=()=>{a.value=document.documentElement.classList.contains("dark")};N(()=>{b(),p=new MutationObserver(b),p.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}),H(()=>{p&&p.disconnect()});const x=S(()=>a.value?m.AdminSidebarDarkColor||"bg-cyan-900":m.AdminSidebarLightColor||"bg-cyan-900"),o=S(()=>a.value?m.AdminSidebarDarkActiveText||"text-yellow-200":m.AdminSidebarLightActiveText||"text-yellow-200"),$=n,L=y(null),C=y(null),_=y(localStorage.getItem("sidebar-expanded")==="true"),l=y(window.location.pathname),i=({target:I})=>{!C.value||!L.value||!c.sidebarOpen||C.value.contains(I)||L.value.contains(I)||$("close-sidebar")},v=({keyCode:I})=>{!c.sidebarOpen||I!==27||$("close-sidebar")};N(async()=>{document.addEventListener("click",i),document.addEventListener("keydown",v)}),H(()=>{document.removeEventListener("click",i),document.removeEventListener("keydown",v)}),D(_,I=>{localStorage.setItem("sidebar-expanded",I.toString())});const B=I=>l.value===I;return(I,Y)=>(f(),k("div",null,[t("div",{class:T(["fixed inset-0 z-20 bg-cyan-800 dark:bg-gray-700 dark:border-r dark:border-gray-600 bg-opacity-30 md:hidden md:z-auto transition-opacity duration-200",g.sidebarOpen?"opacity-100":"opacity-0 pointer-events-none"]),"aria-hidden":"true"},null,2),t("div",{id:"sidebar",ref_key:"sidebar",ref:C,class:T([[x.value,{"translate-x-0":g.sidebarOpen,"-translate-x-58":!g.sidebarOpen,"hidden md:flex":!0,"md:w-16":!_.value,"md:!w-58 2xl:!w-58":_.value}],"h-screen absolute z-40 w-58 left-0 top-0 pb-16 p-2 flex flex-col dark:border-r dark:border-gray-600 md:static md:left-auto md:top-auto md:translate-x-0 md:overflow-y-auto overflow-y-scroll no-scrollbar transition-all duration-200 ease-in-out"])},[t("div",gt,[t("button",{onClick:Y[0]||(Y[0]=W(P=>_.value=!_.value,["prevent"])),title:"t('toggleSidebar')"},[(f(),k("svg",{class:T([{"rotate-180":_.value},"mx-1 w-6 h-6 py-1 fill-current transition-transform duration-200 border border-gray-400 hover:border-red-400"]),viewBox:"0 0 24 24"},xt,2))]),_.value?(f(),M(r(J),{key:0,href:I.route("admin.index")},{default:d(()=>[s(se,{class:"h-6 w-auto 2xl:block"})]),_:1},8,["href"])):A("",!0),_.value?(f(),k("span",kt," Pulsar CMS "+u(g.sidebarTitle),1)):A("",!0),_.value?(f(),M(r(de),{key:2,icon:["fas","sliders"],class:"text-white"})):A("",!0)]),t("div",wt,[_.value?(f(),k("span",{key:0,class:T([[o.value],"flex justify-center text-xs uppercase font-semibold pl-3"])},u(r(e)("pages")),3)):A("",!0),s(mt,{expanded:_.value},null,8,["expanded"]),s(vt,{expanded:_.value},null,8,["expanded"]),_.value?(f(),k("span",{key:1,class:T([[o.value],"flex justify-center text-xs uppercase font-semibold pl-3 mt-0"])},u(r(e)("plugins")),3)):A("",!0),t("ul",null,[(f(!0),k(O,null,ae(I.$page.props.plugins,P=>(f(),M(ht,{class:"mt-0",key:P.id,href:`/admin/plugins/${P.id}`,active:B(`/admin/plugins/${P.id}`),expanded:c.expanded},{default:d(()=>[t("span",{innerHTML:P.icon,class:"icon-class"},null,8,_t)]),text:d(()=>[h(u(P.name),1)]),_:2},1032,["href","active","expanded"]))),128))])])],2)]))}},$t={class:"sticky px-3 py-1 bottom-0 bg-gradient-to-b from-slate-100 to-slate-300 dark:bg-gradient-to-b dark:from-slate-700 dark:to-slate-900 border-t border-slate-200 dark:border-slate-700 z-20"},St={class:"flex items-center justify-center sm:justify-between flex-wrap"},Lt={class:"text-xs sm:text-sm text-gray-500 dark:text-gray-400"},Ct=t("a",{href:"/",target:"_blank",class:"font-semibold text-red-400 hover:text-rose-300"},"Pulsar CMS",-1),Tt=t("svg",{class:"w-4 h-4 fill-current text-red-400 shrink-0 mr-2",viewBox:"0 0 16 16"},[t("path",{d:"M4.3 4.5c1.9-1.9 5.1-1.9 7 0 .7.7 1.2 1.7 1.4 2.7l2-.3c-.2-1.5-.9-2.8-1.9-3.8C10.1.4 5.7.4 2.9 3.1L.7.9 0 7.3l6.4-.7-2.1-2.1zM15.6 8.7l-6.4.7 2.1 2.1c-1.9 1.9-5.1 1.9-7 0-.7-.7-1.2-1.7-1.4-2.7l-2 .3c.2 1.5.9 2.8 1.9 3.8 1.4 1.4 3.1 2 4.9 2 1.8 0 3.6-.7 4.9-2l2.2 2.2.8-6.4z"})],-1),At={class:"flex items-center space-x-2"},It={href:"https://t.me/k_a_v_www",target:"_blank",class:"flex items-center space-x-2 text-blue-500 hover:text-blue-700 dark:text-blue-300 dark:hover:text-blue-500"},Dt=t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24",class:"w-5 h-5 sm:w-6 sm:h-6"},[t("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.175 8.89l-1.4 6.63c-.105.467-.405.578-.82.36l-2.27-1.67-1.093 1.054c-.12.12-.222.222-.45.222l.168-2.39 4.35-3.923c.19-.168-.04-.263-.29-.095L8.78 11.167l-2.42-.76c-.464-.14-.474-.464.096-.684l9.452-3.65c.44-.16.82.108.66.717z"})],-1),Nt={class:"text-xs sm:text-sm text-gray-500 dark:text-gray-400"},Mt={__name:"Footer",setup(g){const{t:n,locale:e}=z(),m=y(e.value);D(m,a=>{if(a!==e.value){e.value=a;const p=window.location.pathname.split("/");p[1]=a;const b=p.join("/")+window.location.search;ue.Inertia.visit(b,{preserveState:!1,preserveScroll:!0})}});const c=async()=>{try{await F.post("/admin/cache/clear"),console.log("Кэш успешно очищен!"),window.location.reload()}catch(a){console.error("Ошибка при очистке кэша:",a)}};return(a,p)=>(f(),k("footer",$t,[t("div",St,[t("div",Lt,[h(" © "+u(new Date().getFullYear())+" ",1),Ct,h(" "+u(r(n)("allRightsReserved")),1)]),t("button",{onClick:c,class:"flex items-center btn px-3 text-slate-900 dark:text-slate-100 rounded-sm border-2 border-slate-400 my-2 mx-1 sm:my-0 sm:mx-0"},[Tt,h(" "+u(r(n)("clearCache")),1)]),t("div",At,[t("a",It,[Dt,t("span",Nt,u(r(n)("supportService")),1)]),s(be,{modelValue:m.value,"onUpdate:modelValue":p[0]||(p[0]=b=>m.value=b)},null,8,["modelValue"])])])]))}},oe=g=>(ee("data-v-bf7e6609"),g=g(),te(),g),zt={class:"row-span-full"},Ot=["title"],Pt=oe(()=>t("svg",{class:"w-6 h-6 shrink-0 fill-current text-indigo-500 mr-2",viewBox:"0 0 16 16"},[t("path",{d:"M10 16h4c.6 0 1-.4 1-.998V6.016c0-.3-.1-.6-.4-.8L8.6.226c-.4-.3-.9-.3-1.3 0l-6 4.992c-.2.2-.3.5-.3.799v8.986C1 15.6 1.4 16 2 16h4c.6 0 1-.4 1-.998v-2.996h2v2.996c0 .599.4.998 1 .998Zm-4-5.99c-.6 0-1 .399-1 .998v2.995H3V6.515L8 2.32l5 4.194v7.488h-2v-2.995c0-.6-.4-.999-1-.999H6Z"})],-1)),Vt=[Pt],Et=["title"],Bt=oe(()=>t("svg",{class:"w-6 h-6 shrink-0 fill-current text-indigo-500 mr-2",viewBox:"0 0 16 16"},[t("path",{d:"M12.311 9.527c-1.161-.393-1.85-.825-2.143-1.175A3.991 3.991 0 0012 5V4c0-2.206-1.794-4-4-4S4 1.794 4 4v1c0 1.406.732 2.639 1.832 3.352-.292.35-.981.782-2.142 1.175A3.942 3.942 0 001 13.26V16h14v-2.74c0-1.69-1.081-3.19-2.689-3.733zM6 4c0-1.103.897-2 2-2s2 .897 2 2v1c0 1.103-.897 2-2 2s-2-.897-2-2V4zm7 10H3v-.74c0-.831.534-1.569 1.33-1.838 1.845-.624 3-1.436 3.452-2.422h.436c.452.986 1.607 1.798 3.453 2.422A1.943 1.943 0 0113 13.26V14z"})],-1)),jt=[Bt],Ht={__name:"WidgetPanel",setup(g){const{t:n}=z(),e=y("155e75"),m=y(.99),c=y(""),a=async()=>{try{const x=await F.get("/api/settings/widget-panel");e.value=x.data.color,m.value=x.data.opacity,c.value=b(x.data.color)}catch(x){console.error("Error fetching widget panel settings:",x)}},p=S(()=>{const x=`#${e.value}`,o=m.value;return{backgroundColor:x,opacity:o}}),b=x=>{if(x.length!==6)return"";const o=parseInt(x,16),$=o>>16&255,L=o>>8&255,C=o&255;return`${$},${L},${C}`};return N(()=>{a()}),(x,o)=>(f(),k("div",zt,[t("div",{id:"widgetPanel",style:ne(p.value),class:"flex-col items-center h-full w-4 z-20 bg-cyan-800 dark:bg-gray-700 dark:border-l dark:border-gray-600 overflow-y-scroll hidden md:flex md:z-auto no-scrollbar transition-all duration-200 ease-in-out"},[t("a",{href:"/",target:"_blank",class:"mt-20 ml-1",title:r(n)("website")},Vt,8,Ot),t("a",{href:"/dashboard",target:"_blank",class:"mt-4 ml-1",title:r(n)("dashboard")},jt,8,Et)],4)]))}},Ft=G(Ht,[["__scopeId","data-v-bf7e6609"]]),Jt={class:"flex flex-row h-screen overflow-hidden"},Rt={class:"relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden"},Ut={key:0,class:"dark:bg-slate-700 bg-slate-50 shadow"},Wt={class:"max-w-7xl mx-auto py-2 px-1 sm:px-6 lg:px-8"},Kt={__name:"AdminLayout",props:{title:String},setup(g){const n=y(!1),e=y(!1),{props:m}=E(),c=ce();D(()=>me.props.flash,p=>{p&&(p.success&&c.success(p.success),p.error&&c.error(p.error),p.warning&&c.warning(p.warning),p.info&&c.info(p.info))},{deep:!0});const a=S(()=>{const p=m.settings.find(b=>b.constant==="INFO_MOD_VERSION");return p?p.value:""});return(p,b)=>(f(),k(O,null,[s(r(pe),{title:g.title},null,8,["title"]),t("div",Jt,[s(yt,{"sidebar-open":n.value,"sidebar-title":a.value,onCloseSidebar:b[0]||(b[0]=x=>n.value=!1)},null,8,["sidebar-open","sidebar-title"]),t("div",Rt,[s(dt,{"showing-navigation-dropdown":e.value,onToggleNavigationDropdown:b[1]||(b[1]=x=>e.value=!e.value)},null,8,["showing-navigation-dropdown"]),p.$slots.header?(f(),k("header",Ut,[t("div",Wt,[j(p.$slots,"header",{},void 0,!0)])])):A("",!0),t("main",{class:"flex-grow bg-center border-l border-r border-slate-400",style:ne({backgroundImage:`url(${r(xe)})`,backgroundAttachment:"fixed"})},[j(p.$slots,"default",{},void 0,!0)],4),s(Mt),s(ge)]),s(Ft,{widgetPanelTitle:a.value},null,8,["widgetPanelTitle"])])],64))}},ta=G(Kt,[["__scopeId","data-v-8afc6f26"]]);export{ta as A};
