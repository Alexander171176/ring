import{A as h,P as w,D as c,H as s,k as l,I as u,J as n,u as e,L as b,y as V}from"./vue-DrbZvlgE.js";import{a as k,u as $,T as U}from"./app-Bp8GUED0.js";import{A as z}from"./AdminLayout-m43ZpFmT.js";import{T as A}from"./TitlePage-CVAOVWeu.js";import{_ as C,a as j,b as Z}from"./InputNumber-D963n_HP.js";import{_}from"./DefaultButton-B4OupGBJ.js";import{_ as m,a as p,b as B}from"./InputText-DBtoU87u.js";import{_ as d}from"./InputError-CDoDc20f.js";import{_ as M}from"./MetaDescTextarea-DjPUZo-s.js";import{_ as L,a as T}from"./CategorySelect-VRdLAIJH.js";import"./vendor-CGnu3J7H.js";import"./ScrollButtons-DwaEk0p5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-Cy7DQwuF.js";import"./LocaleSelectOption-DauWSBmB.js";import"./auth-image-XbvYdkSi.js";const I={class:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-12xl mx-auto"},N={class:"p-4 bg-slate-50 dark:bg-slate-700 border border-blue-400 dark:border-blue-200 shadow-lg shadow-gray-500 dark:shadow-slate-400 bg-opacity-95 dark:bg-opacity-95"},P={class:"sm:flex sm:justify-between sm:items-center mb-2"},S=s("svg",{class:"w-4 h-4 fill-current text-slate-100 shrink-0 mr-2",viewBox:"0 0 16 16"},[s("path",{d:"M4.3 4.5c1.9-1.9 5.1-1.9 7 0 .7.7 1.2 1.7 1.4 2.7l2-.3c-.2-1.5-.9-2.8-1.9-3.8C10.1.4 5.7.4 2.9 3.1L.7.9 0 7.3l6.4-.7-2.1-2.1zM15.6 8.7l-6.4.7 2.1 2.1c-1.9 1.9-5.1 1.9-7 0-.7-.7-1.2-1.7-1.4-2.7l-2 .3c.2 1.5.9 2.8 1.9 3.8 1.4 1.4 3.1 2 4.9 2 1.8 0 3.6-.7 4.9-2l2.2 2.2.8-6.4z"})],-1),D=s("div",{class:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2"},null,-1),F={class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-4"},q={class:"flex justify-between w-full"},E={class:"flex flex-row items-center"},O={class:"flex flex-row items-center"},H={class:"flex flex-row items-center gap-2"},J={class:"flex flex-row items-center gap-2"},W={class:"h-8 flex items-center"},G={class:"mb-3 flex flex-col items-start"},K={class:"flex justify-between w-full"},Q={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},R={class:"mb-3 flex flex-col items-start"},X={class:"mb-3 flex flex-col items-start"},Y={class:"flex justify-between w-full"},ee={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},te={class:"mb-3 flex flex-col items-start"},se={class:"flex justify-between w-full"},le={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},ae={class:"flex items-center justify-center mt-4"},oe=s("svg",{class:"w-4 h-4 fill-current text-slate-100 shrink-0 mr-2",viewBox:"0 0 16 16"},[s("path",{d:"M4.3 4.5c1.9-1.9 5.1-1.9 7 0 .7.7 1.2 1.7 1.4 2.7l2-.3c-.2-1.5-.9-2.8-1.9-3.8C10.1.4 5.7.4 2.9 3.1L.7.9 0 7.3l6.4-.7-2.1-2.1zM15.6 8.7l-6.4.7 2.1 2.1c-1.9 1.9-5.1 1.9-7 0-.7-.7-1.2-1.7-1.4-2.7l-2 .3c.2 1.5.9 2.8 1.9 3.8 1.4 1.4 3.1 2 4.9 2 1.8 0 3.6-.7 4.9-2l2.2 2.2.8-6.4z"})],-1),re=s("svg",{class:"w-4 h-4 fill-current text-slate-100",viewBox:"0 0 16 16"},[s("path",{d:"M14.3 2.3L5 11.6 1.7 8.3c-.4-.4-1-.4-1.4 0-.4.4-.4 1 0 1.4l4 4c.2.2.4.3.7.3.3 0 .5-.1.7-.3l10-10c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0z"})],-1),ke={__name:"Create",setup(ie){const f=k(),{t:o}=$(),t=U({sort:0,type:"",option:"",value:"",constant:"",category:"",description:"",activity:!1}),v=i=>{const a=i.target.value.replace(/[^A-Za-z0-9\-]/g,"");t.option=a.charAt(0).toUpperCase()+a.slice(1)},x=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1_$2").toUpperCase(),g=()=>{t.option&&(t.constant=x(t.option))},y=()=>{t.transform(i=>({...i,activity:i.activity?1:0})),t.post(route("admin.parameters.store"),{preserveScroll:!0,onSuccess:()=>{f.success("Параметр успешно создан!")},onError:i=>{console.error("Не удалось отправить форму:",i);const a=i[Object.keys(i)[0]];f.error(a||"Пожалуйста, проверьте правильность заполнения полей.")}})};return(i,a)=>(w(),h(z,{title:e(o)("createParameter")},{header:c(()=>[l(A,null,{default:c(()=>[u(n(e(o)("createParameter")),1)]),_:1})]),default:c(()=>[s("div",I,[s("div",N,[s("div",P,[l(_,{href:i.route("admin.parameters.index")},{icon:c(()=>[S]),default:c(()=>[u(" "+n(e(o)("back")),1)]),_:1},8,["href"]),D]),s("form",{onSubmit:b(y,["prevent"]),class:"p-3 w-full"},[s("div",F,[s("div",q,[s("div",E,[l(C,{modelValue:e(t).activity,"onUpdate:modelValue":a[0]||(a[0]=r=>e(t).activity=r)},null,8,["modelValue"]),l(j,{for:"activity",text:e(o)("activity")},null,8,["text"])])]),s("div",O,[l(m,{for:"category",value:e(o)("parameterCategory"),class:"w-full"},null,8,["value"]),l(L,{modelValue:e(t).category,"onUpdate:modelValue":a[1]||(a[1]=r=>e(t).category=r),error:e(t).errors.category},null,8,["modelValue","error"])]),s("div",H,[l(m,{for:"type",value:e(o)("type"),class:"mr-3"},null,8,["value"]),l(T,{modelValue:e(t).type,"onUpdate:modelValue":a[2]||(a[2]=r=>e(t).type=r),error:e(t).errors.type,class:"w-full lg:w-64 mr-3"},null,8,["modelValue","error"])]),s("div",J,[s("div",W,[l(m,{for:"sort",value:e(o)("sort"),class:"text-sm"},null,8,["value"])]),l(Z,{id:"sort",type:"number",modelValue:e(t).sort,"onUpdate:modelValue":a[3]||(a[3]=r=>e(t).sort=r),autocomplete:"sort",class:"w-full lg:w-28"},null,8,["modelValue"]),l(d,{class:"mt-2 lg:mt-0",message:e(t).errors.sort},null,8,["message"])])]),s("div",G,[s("div",K,[l(m,{for:"option",value:e(o)("parameterName")},null,8,["value"]),s("div",Q,n(e(t).option.length)+" / 255 "+n(e(o)("characters")),1)]),l(p,{id:"option",type:"text",modelValue:e(t).option,"onUpdate:modelValue":a[4]||(a[4]=r=>e(t).option=r),onInput:v,required:"",maxlength:"255",autocomplete:"option",pattern:"[A-Za-z0-9\\-]+",title:e(o)("urlVerification")},null,8,["modelValue","title"]),l(d,{class:"mt-2",message:e(t).errors.option},null,8,["message"])]),s("div",R,[l(m,{for:"constant",value:e(o)("parameterConstant")},null,8,["value"]),l(p,{id:"constant",type:"text",modelValue:e(t).constant,"onUpdate:modelValue":a[5]||(a[5]=r=>e(t).constant=r),onFocus:g,required:"",autocomplete:"constant",pattern:"[A-Z][A-Z0-9_]*"},null,8,["modelValue"]),l(d,{class:"mt-2",message:e(t).errors.constant},null,8,["message"])]),s("div",X,[s("div",Y,[l(m,{for:"value",value:e(o)("parameterValue")},null,8,["value"]),s("div",ee,n(e(t).value.length)+" / 255 "+n(e(o)("characters")),1)]),l(p,{id:"value",type:"text",modelValue:e(t).value,"onUpdate:modelValue":a[6]||(a[6]=r=>e(t).value=r),maxlength:"255",autocomplete:"value",pattern:"^(https?:\\/\\/)?[A-Za-z0-9\\.\\-]+(:[0-9]+)?(\\/[A-Za-z0-9\\-\\/]+)?$",title:e(o)("urlVerification")},null,8,["modelValue","title"]),l(d,{class:"mt-2",message:e(t).errors.value},null,8,["message"])]),s("div",te,[s("div",se,[l(m,{for:"description",value:e(o)("parameterDescription")},null,8,["value"]),s("div",le,n(e(t).description.length)+" / 255 "+n(e(o)("characters")),1)]),l(M,{modelValue:e(t).description,"onUpdate:modelValue":a[7]||(a[7]=r=>e(t).description=r),class:"w-full"},null,8,["modelValue"]),l(d,{class:"mt-2",message:e(t).errors.description},null,8,["message"])]),s("div",ae,[l(_,{href:i.route("admin.parameters.index"),class:"mb-3"},{icon:c(()=>[oe]),default:c(()=>[u(" "+n(e(o)("back")),1)]),_:1},8,["href"]),l(B,{class:V(["ms-4",{"opacity-25":e(t).processing}]),disabled:e(t).processing},{icon:c(()=>[re]),default:c(()=>[u(" "+n(e(o)("save")),1)]),_:1},8,["class","disabled"])])],32)])])]),_:1},8,["title"]))}};export{ke as default};
