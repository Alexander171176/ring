import{y as v,u as h,T as y,e as w,o as V,w as c,f as l,i as t,p as f,t as m,k as e,A as k,B as $,q as B}from"./vendor-KLnQVH-z.js";import{A as U}from"./AdminLayout-eFyNQLG8.js";import{T as j}from"./TitlePage-Dn5_Db7V.js";import{_ as x}from"./DefaultButton-mNfyXOKI.js";import{_ as d}from"./InputError-5M0RC1-a.js";import{_ as b}from"./MetaDescTextarea-CmFtzWFr.js";import{_ as M,a as S,b as T}from"./InputNumber-BojX-z2D.js";import{_ as u,a as z,b as A}from"./InputText-BNT2VvLh.js";import{_ as C,a as L}from"./TinyEditor-B3kl92ky.js";/* empty css                                                                     */import"./vendor-axios-jn5v1YEJ.js";import"./vendor-lodash-p73LerAr.js";import"./ScrollButtons-BQ3VHXoa.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-GNuCPEap.js";import"./LocaleSelectOption-A1uotnOm.js";import"./app-DfhT5Fj-.js";import"./auth-image-XbvYdkSi.js";const q={class:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-12xl mx-auto"},E={class:"p-4 bg-slate-50 dark:bg-slate-700 border border-blue-400 dark:border-blue-200 shadow-lg shadow-gray-500 dark:shadow-slate-400 bg-opacity-95 dark:bg-opacity-95"},N={class:"sm:flex sm:justify-between sm:items-center mb-2"},D=l("svg",{class:"w-4 h-4 fill-current text-slate-100 shrink-0 mr-2",viewBox:"0 0 16 16"},[l("path",{d:"M4.3 4.5c1.9-1.9 5.1-1.9 7 0 .7.7 1.2 1.7 1.4 2.7l2-.3c-.2-1.5-.9-2.8-1.9-3.8C10.1.4 5.7.4 2.9 3.1L.7.9 0 7.3l6.4-.7-2.1-2.1zM15.6 8.7l-6.4.7 2.1 2.1c-1.9 1.9-5.1 1.9-7 0-.7-.7-1.2-1.7-1.4-2.7l-2 .3c.2 1.5.9 2.8 1.9 3.8 1.4 1.4 3.1 2 4.9 2 1.8 0 3.6-.7 4.9-2l2.2 2.2.8-6.4z"})],-1),O=l("div",{class:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2"},null,-1),P={class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-4"},F={class:"flex flex-row items-center gap-2"},I={class:"flex flex-row items-center gap-2 w-auto"},G={class:"flex flex-row items-center gap-2"},H={class:"h-8 flex items-center"},J={class:"mb-3 flex flex-col items-start"},K={class:"mb-3 flex flex-col items-start"},Q={class:"mb-3 flex flex-col items-start"},R=l("span",{class:"text-red-500 dark:text-red-300 font-semibold"},"*",-1),W={class:"mb-3 flex flex-col items-start"},X={class:"flex justify-between w-full"},Y={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},Z={class:"mb-3 flex flex-col items-start"},ee={class:"flex items-center justify-center mt-4"},se=l("svg",{class:"w-4 h-4 fill-current text-slate-100 shrink-0 mr-2",viewBox:"0 0 16 16"},[l("path",{d:"M4.3 4.5c1.9-1.9 5.1-1.9 7 0 .7.7 1.2 1.7 1.4 2.7l2-.3c-.2-1.5-.9-2.8-1.9-3.8C10.1.4 5.7.4 2.9 3.1L.7.9 0 7.3l6.4-.7-2.1-2.1zM15.6 8.7l-6.4.7 2.1 2.1c-1.9 1.9-5.1 1.9-7 0-.7-.7-1.2-1.7-1.4-2.7l-2 .3c.2 1.5.9 2.8 1.9 3.8 1.4 1.4 3.1 2 4.9 2 1.8 0 3.6-.7 4.9-2l2.2 2.2.8-6.4z"})],-1),te=l("svg",{class:"w-4 h-4 fill-current text-slate-100",viewBox:"0 0 16 16"},[l("path",{d:"M14.3 2.3L5 11.6 1.7 8.3c-.4-.4-1-.4-1.4 0-.4.4-.4 1 0 1.4l4 4c.2.2.4.3.7.3.3 0 .5-.1.7-.3l10-10c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0z"})],-1),ye={__name:"Edit",props:{section:{type:Object,required:!0},rubrics:Array},setup(p){const _=v(),{t:i}=h(),r=p,s=y({_method:"PUT",sort:r.section.sort??0,icon:r.section.icon??"",locale:r.section.locale??"",title:r.section.title??"",short:r.section.short??"",description:r.section.description??"",activity:!!(r.section.activity??!1),rubrics:r.section.rubrics??[]}),g=async()=>{s.transform(n=>({...n,activity:n.activity?1:0})),s.post(route("admin.sections.update",r.section.id),{errorBag:"editSection",preserveScroll:!0,onSuccess:()=>{_.success("Секция успешно обновлена!")},onError:n=>{const o=n[Object.keys(n)[0]];_.error(o||"Пожалуйста, проверьте правильность заполнения полей.")}})};return(n,o)=>(V(),w(U,{title:e(i)("editSection")},{header:c(()=>[t(j,null,{default:c(()=>[f(m(e(i)("editSection"))+": "+m(r.section.title),1)]),_:1})]),default:c(()=>[l("div",q,[l("div",E,[l("div",N,[t(x,{href:n.route("admin.sections.index")},{icon:c(()=>[D]),default:c(()=>[f(" "+m(e(i)("back")),1)]),_:1},8,["href"]),O]),l("form",{onSubmit:k(g,["prevent"]),class:"p-3 w-full"},[l("div",P,[l("div",F,[t(M,{modelValue:e(s).activity,"onUpdate:modelValue":o[0]||(o[0]=a=>e(s).activity=a)},null,8,["modelValue"]),t(S,{for:"activity",text:e(i)("activity"),class:"text-sm h-8 flex items-center"},null,8,["text"])]),l("div",I,[t(C,{modelValue:e(s).locale,"onUpdate:modelValue":o[1]||(o[1]=a=>e(s).locale=a),errorMessage:e(s).errors.locale},null,8,["modelValue","errorMessage"]),t(d,{class:"mt-2 lg:mt-0",message:e(s).errors.locale},null,8,["message"])]),l("div",G,[l("div",H,[t(u,{for:"sort",value:e(i)("sort"),class:"text-sm"},null,8,["value"])]),t(T,{id:"sort",type:"number",modelValue:e(s).sort,"onUpdate:modelValue":o[2]||(o[2]=a=>e(s).sort=a),autocomplete:"sort",class:"w-full lg:w-28"},null,8,["modelValue"]),t(d,{class:"mt-2 lg:mt-0",message:e(s).errors.sort},null,8,["message"])])]),l("div",J,[t(u,{for:"rubrics",value:e(i)("rubrics"),class:"mb-1"},null,8,["value"]),t(e($),{modelValue:e(s).rubrics,"onUpdate:modelValue":o[3]||(o[3]=a=>e(s).rubrics=a),options:p.rubrics,multiple:!0,"close-on-select":!0,placeholder:e(i)("select"),label:"title","track-by":"title"},null,8,["modelValue","options","placeholder"])]),l("div",K,[t(u,{for:"icon",value:e(i)("svg")},null,8,["value"]),t(b,{modelValue:e(s).icon,"onUpdate:modelValue":o[4]||(o[4]=a=>e(s).icon=a),class:"w-full"},null,8,["modelValue"]),t(d,{class:"mt-2",message:e(s).errors.icon},null,8,["message"])]),l("div",Q,[t(u,{for:"title"},{default:c(()=>[R,f(" "+m(e(i)("sectionTitle")),1)]),_:1}),t(z,{id:"title",type:"text",modelValue:e(s).title,"onUpdate:modelValue":o[5]||(o[5]=a=>e(s).title=a),required:"",autocomplete:"title"},null,8,["modelValue"]),t(d,{class:"mt-2",message:e(s).errors.title},null,8,["message"])]),l("div",W,[l("div",X,[t(u,{for:"short",value:e(i)("shortDescription")},null,8,["value"]),l("div",Y,m(e(s).short.length)+" / 255 "+m(e(i)("characters")),1)]),t(b,{modelValue:e(s).short,"onUpdate:modelValue":o[6]||(o[6]=a=>e(s).short=a),class:"w-full"},null,8,["modelValue"]),t(d,{class:"mt-2",message:e(s).errors.short},null,8,["message"])]),l("div",Z,[t(u,{for:"description",value:e(i)("description")},null,8,["value"]),t(L,{modelValue:e(s).description,"onUpdate:modelValue":o[7]||(o[7]=a=>e(s).description=a),height:500},null,8,["modelValue"]),t(d,{class:"mt-2",message:e(s).errors.description},null,8,["message"])]),l("div",ee,[t(x,{href:n.route("admin.sections.index"),class:"mb-3"},{icon:c(()=>[se]),default:c(()=>[f(" "+m(e(i)("back")),1)]),_:1},8,["href"]),t(A,{class:B(["ms-4 mb-0",{"opacity-25":e(s).processing}]),disabled:e(s).processing},{icon:c(()=>[te]),default:c(()=>[f(" "+m(e(i)("save")),1)]),_:1},8,["class","disabled"])])],32)])])]),_:1},8,["title"]))}};export{ye as default};
