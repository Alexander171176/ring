import{u as C,Q as j,l as $,z as B,a5 as M,G as I,e as L,o,w as d,i as l,f as s,k as t,a$ as A,t as a,q as V,m as n,n as r,F as x,v as f,J as y,p as k}from"./vendor-RLSRVg0u.js";import{_ as D}from"./DefaultLayout-DvWrh6uy.js";import{_ as b,A as N}from"./ArticleImageMain-BEUOCdua.js";import"./vendor-axios-jn5v1YEJ.js";import"./vendor-lodash-xl9ghVBF.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-BMppKKTO.js";import"./LogoutButton-DN4JvoKr.js";import"./LocaleSelectOption-C-b8LGFO.js";import"./app-DA3r2JAX.js";const P=["content"],S=["content"],T=["content"],E=["content"],F=s("meta",{name:"viewport",content:"width=device-width, initial-scale=1"},null,-1),z=["content"],H=["content"],O=s("meta",{property:"og:type",content:"article"},null,-1),R=["content"],U=["content"],q=["content"],G=s("meta",{name:"twitter:card",content:"summary_large_image"},null,-1),J=["content"],Q=["content"],Z=["content"],K=["content"],W=["content"],X=["content"],Y={class:"flex items-center justify-center my-1"},tt={itemprop:"headline",class:"text-center font-bolder text-3xl text-gray-900 dark:text-slate-100"},et={itemprop:"interactionStatistic",itemscope:"",itemtype:"http://schema.org/InteractionCounter"},st=s("meta",{itemprop:"interactionType",content:"http://schema.org/ViewAction"},null,-1),ot=["content"],nt=["title"],it={itemprop:"datePublished",datetime:"{{ article.created_at.substring(0, 10) }}",class:"flex items-center justify-center font-semibold text-sm text-orange-500 dark:text-orange-400"},at={key:0,class:"flex items-center justify-center my-3"},rt={itemprop:"description",class:"text-center text-xl text-teal-700 dark:text-teal-200 mr-2"},lt={key:1,class:"flex flex-col justify-center items-center",itemprop:"image",itemscope:"",itemtype:"https://schema.org/ImageObject"},ct=s("meta",{itemprop:"width",content:"800"},null,-1),dt=s("meta",{itemprop:"height",content:"600"},null,-1),mt={key:0,class:"mt-2 text-center text-sm text-gray-600 dark:text-gray-300 italic underline decoration-double",itemprop:"caption"},_t=["innerHTML"],ut={key:3,class:"flex justify-center items-center mb-3 font-semibold text-violet-600 dark:text-violet-300"},pt={key:0},gt={class:"flex justify-center items-center"},ht={key:0,class:"font-semibold text-sky-600 dark:text-sky-300",itemprop:"author"},xt={class:"mr-2"},ft={key:4,class:"mt-4"},yt={class:"mb-4 tracking-wide text-center font-semibold text-xl text-orange-400 dark:text-orange-300"},kt={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-1 xl:grid-cols-3 gap-4"},bt={class:"relative w-full"},vt={class:"w-full aspect-[4/3] overflow-hidden"},wt=["src","alt"],Ct={key:1,class:"w-full h-full flex items-center justify-center bg-gray-200 dark:bg-gray-400"},jt={class:"text-gray-500 dark:text-gray-700"},$t={class:"absolute bottom-0 left-0 w-full p-2 bg-slate-800 bg-opacity-75"},Bt={class:"text-xs font-semibold text-yellow-200"},zt={__name:"Show",setup(Mt){const{t:m}=C(),{article:e,recommendedArticles:_,siteSettings:u}=j().props,p=$(!1);let c;const g=()=>{p.value=document.documentElement.classList.contains("dark")};B(()=>{g(),c=new MutationObserver(g),c.observe(document.documentElement,{attributes:!0,attributeFilter:["class"]})}),M(()=>{c&&c.disconnect()});const v=I(()=>p.value?u.PublicDarkBackgroundColor:u.PublicLightBackgroundColor);return(h,It)=>(o(),L(D,{title:t(e).title,"can-login":h.$page.props.canLogin,"can-register":h.$page.props.canRegister},{default:d(()=>[l(t(A),null,{default:d(()=>[s("title",null,a(t(e).title),1),s("meta",{name:"title",content:t(e).title||""},null,8,P),s("meta",{name:"description",content:t(e).meta_desc||""},null,8,S),s("meta",{name:"keywords",content:t(e).meta_keywords||""},null,8,T),s("meta",{name:"author",content:t(e).author||""},null,8,E),F,s("meta",{property:"og:title",content:t(e).title||""},null,8,z),s("meta",{property:"og:description",content:t(e).meta_desc||""},null,8,H),O,s("meta",{property:"og:url",content:`/articles/${t(e).url}`},null,8,R),s("meta",{property:"og:image",content:t(e).images&&t(e).images.length>0?t(e).images[0].url:""},null,8,U),s("meta",{property:"og:locale",content:t(e).locale||"ru_RU"},null,8,q),G,s("meta",{name:"twitter:title",content:t(e).title||""},null,8,J),s("meta",{name:"twitter:description",content:t(e).meta_desc||""},null,8,Q),s("meta",{name:"twitter:image",content:t(e).images&&t(e).images.length>0?t(e).images[0].url:""},null,8,Z),s("meta",{itemprop:"name",content:t(e).title||""},null,8,K),s("meta",{itemprop:"description",content:t(e).meta_desc||""},null,8,W),s("meta",{itemprop:"image",content:t(e).images&&t(e).images.length>0?t(e).images[0].url:""},null,8,X)]),_:1}),s("article",{itemscope:"",itemtype:"https://schema.org/BlogPosting",class:V(["flex-1 p-4 selection:bg-red-400 selection:text-white",v.value])},[s("header",null,[s("div",Y,[s("h1",tt,a(t(e).title),1),s("div",et,[st,s("meta",{itemprop:"userInteractionCount",content:t(e).views},null,8,ot),s("span",{title:t(m)("views"),class:"ml-2 px-1 py-0.5 text-xs font-semibold text-white bg-emerald-500 rounded-full"},a(t(e).views),9,nt)])]),s("time",it,a(t(e).created_at.substring(0,10)),1)]),t(e).short?(o(),n("div",at,[s("p",rt,a(t(e).short),1),l(b)])):r("",!0),t(e).images&&t(e).images.length>0?(o(),n("div",lt,[l(N,{images:t(e).images,link:`/articles/${t(e).url}`,class:"max-w-4xl"},null,8,["images","link"]),ct,dt,t(e).images[0].caption?(o(),n("div",mt,a(t(e).images[0].caption),1)):r("",!0)])):r("",!0),t(e).description?(o(),n("div",{key:2,class:"w-full max-w-4xl mx-auto my-4 p-2 text-center text-xl text-gray-700 dark:text-gray-200 border border-dashed border-slate-400 dark:border-slate-200",innerHTML:t(e).description,itemprop:"articleBody"},null,8,_t)):r("",!0),t(e).tags?(o(),n("div",ut,[(o(!0),n(x,null,f(t(e).tags,(i,w)=>(o(),n("span",{key:i.id},[l(t(y),{href:`/tags/${i.slug}`,itemprop:"keywords",class:"hover:text-rose-400 hover:dark:text-rose-300"},{default:d(()=>[k(a(i.name),1)]),_:2},1032,["href"]),w<t(e).tags.length-1?(o(),n("span",pt,", ")):r("",!0)]))),128))])):r("",!0),s("div",gt,[t(e).author?(o(),n("div",ht,[s("span",xt,a(t(e).author),1)])):r("",!0),l(b)]),t(_)&&t(_).length>0?(o(),n("div",ft,[s("h2",yt,a(t(m)("relatedArticles"))+": ",1),s("div",kt,[(o(!0),n(x,null,f(t(_),i=>(o(),n("div",{key:i.id,class:"p-4 border border-gray-300 rounded shadow"},[s("div",bt,[s("div",vt,[i.images&&i.images.length>0?(o(),n("img",{key:0,src:i.images[0].webp_url||i.images[0].url,alt:i.images[0].alt,class:"w-full h-full object-cover"},null,8,wt)):(o(),n("div",Ct,[s("span",jt,a(t(m)("noCurrentImage")),1)]))]),s("div",$t,[s("div",Bt,a(i.created_at.substring(0,10)),1),l(t(y),{href:`/articles/${i.url}`,class:"text-sm font-semibold text-white hover:text-amber-400"},{default:d(()=>[k(a(i.title),1)]),_:2},1032,["href"])])])]))),128))])])):r("",!0)],2)]),_:1},8,["title","can-login","can-register"]))}};export{zt as default};
