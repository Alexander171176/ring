import{y as k,u as j,T as U,z as $,e as T,o as M,w as m,f as s,i as l,p as c,t as i,k as e,A as B,q as z}from"./vendor-KLnQVH-z.js";import{A as C}from"./AdminLayout-Dy9mjYMG.js";import{T as N}from"./TitlePage-Dn5_Db7V.js";import{_ as x}from"./DefaultButton-mNfyXOKI.js";import{_ as u,a as _,b as S}from"./InputText-BNT2VvLh.js";import{_ as d}from"./InputError-5M0RC1-a.js";import{_ as q}from"./MetaDescTextarea-CmFtzWFr.js";import{_ as h,a as w,b as y}from"./InputNumber-BojX-z2D.js";import{_ as A,a as D}from"./TinyEditor-C2rDC9WO.js";import{_ as L}from"./MultiImageUpload-Bc_tB1VO.js";import{_ as E,a as g}from"./SelectAthlete-CXo0Eu5l.js";import"./vendor-axios-jn5v1YEJ.js";import"./vendor-lodash-p73LerAr.js";import"./ScrollButtons-BQ3VHXoa.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-GNuCPEap.js";import"./LocaleSelectOption-DeZNcFHG.js";import"./app-B4TnzLsT.js";import"./auth-image-XbvYdkSi.js";const F={class:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-12xl mx-auto"},I={class:"p-4 bg-slate-50 dark:bg-slate-700 border border-blue-400 dark:border-blue-200 shadow-lg shadow-gray-500 dark:shadow-slate-400 bg-opacity-95 dark:bg-opacity-95"},O={class:"sm:flex sm:justify-between sm:items-center mb-2"},P=s("svg",{class:"w-4 h-4 fill-current text-slate-100 shrink-0 mr-2",viewBox:"0 0 16 16"},[s("path",{d:"M4.3 4.5c1.9-1.9 5.1-1.9 7 0 .7.7 1.2 1.7 1.4 2.7l2-.3c-.2-1.5-.9-2.8-1.9-3.8C10.1.4 5.7.4 2.9 3.1L.7.9 0 7.3l6.4-.7-2.1-2.1zM15.6 8.7l-6.4.7 2.1 2.1c-1.9 1.9-5.1 1.9-7 0-.7-.7-1.2-1.7-1.4-2.7l-2 .3c.2 1.5.9 2.8 1.9 3.8 1.4 1.4 3.1 2 4.9 2 1.8 0 3.6-.7 4.9-2l2.2 2.2.8-6.4z"})],-1),R=s("div",{class:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2"},null,-1),W={class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-4"},G={class:"flex flex-row items-center gap-2"},H={class:"flex flex-row items-center gap-2 w-auto"},J={class:"flex flex-row items-center gap-2"},K={class:"h-8 flex items-center"},Q={class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-4"},X={class:"flex flex-row items-center gap-2 w-full"},Y={class:"flex flex-row items-center justify-end w-full gap-2"},Z={class:"flex justify-start w-full"},ee={class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-4"},te={class:"flex flex-row items-center justify-end w-full"},se={class:"mb-3 flex flex-col items-end w-96"},le={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},oe={class:"flex flex-row items-center justify-end w-full"},ae={class:"h-8 flex items-center"},re={class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-4"},ie={class:"flex flex-row items-center justify-end w-full"},ne={class:"mb-3 flex flex-col items-start w-96"},me={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},de={class:"flex flex-row items-center justify-end w-full"},ue={class:"mb-3 flex flex-col items-start w-96"},ce={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},_e={class:"mb-4 grid grid-cols-1 md:grid-cols-3 gap-4"},fe={class:"mb-3 flex flex-col items-start"},ge={class:"flex justify-between w-full"},pe=s("span",{class:"text-red-500 dark:text-red-300 font-semibold"},"*",-1),xe={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},he={class:"mb-3 flex flex-col items-start"},we={class:"flex justify-between w-full"},ye={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},ve={class:"mb-3 flex flex-col items-start"},be={class:"flex items-center justify-center mt-4"},Ve=s("svg",{class:"w-4 h-4 fill-current text-slate-100 shrink-0 mr-2",viewBox:"0 0 16 16"},[s("path",{d:"M4.3 4.5c1.9-1.9 5.1-1.9 7 0 .7.7 1.2 1.7 1.4 2.7l2-.3c-.2-1.5-.9-2.8-1.9-3.8C10.1.4 5.7.4 2.9 3.1L.7.9 0 7.3l6.4-.7-2.1-2.1zM15.6 8.7l-6.4.7 2.1 2.1c-1.9 1.9-5.1 1.9-7 0-.7-.7-1.2-1.7-1.4-2.7l-2 .3c.2 1.5.9 2.8 1.9 3.8 1.4 1.4 3.1 2 4.9 2 1.8 0 3.6-.7 4.9-2l2.2 2.2.8-6.4z"})],-1),ke=s("svg",{class:"w-4 h-4 fill-current text-slate-100",viewBox:"0 0 16 16"},[s("path",{d:"M14.3 2.3L5 11.6 1.7 8.3c-.4-.4-1-.4-1.4 0-.4.4-.4 1 0 1.4l4 4c.2.2.4.3.7.3.3 0 .5-.1.7-.3l10-10c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0z"})],-1),Re={__name:"Create",props:{images:Array,athletes:{type:Array,required:!0}},setup(v){const p=k(),{t:r}=j(),f=v,t=U({sort:"0",activity:!1,locale:"",name:"",short:"",description:"",tournament_date_time:"",status:null,venue:"",city:"",country:"",weight_class_name:"",rounds_scheduled:"0",is_title_fight:!1,fighter_red_id:"",fighter_blue_id:"",winner_id:"",method_of_victory:"",round_of_finish:"",time_of_finish:"",images:[]}),b=n=>{if(!n)return"";const o=new Date(n);return isNaN(o.getTime())?"":o.toISOString().split("T")[0]};$(()=>{t.tournament_date_time&&(t.tournament_date_time=b(t.tournament_date_time))});const V=()=>{t.transform(n=>({...n,activity:n.activity?1:0,is_title_fight:n.is_title_fight?1:0})),t.post(route("admin.tournaments.store"),{forceFormData:!0,errorBag:"createTournament",preserveScroll:!0,onSuccess:n=>{p.success("Турнир успешно создан!")},onError:n=>{console.error("❌ Ошибки валидации:",n);const o=n[Object.keys(n)[0]];p.error(o||"Пожалуйста, проверьте правильность заполнения полей.")}})};return(n,o)=>(M(),T(C,{title:e(r)("addTournament")},{header:m(()=>[l(N,null,{default:m(()=>[c(i(e(r)("addTournament")),1)]),_:1})]),default:m(()=>[s("div",F,[s("div",I,[s("div",O,[l(x,{href:n.route("admin.tournaments.index")},{icon:m(()=>[P]),default:m(()=>[c(" "+i(e(r)("back")),1)]),_:1},8,["href"]),R]),s("form",{onSubmit:B(V,["prevent"]),enctype:"multipart/form-data",class:"p-3 w-full"},[s("div",W,[s("div",G,[l(h,{modelValue:e(t).activity,"onUpdate:modelValue":o[0]||(o[0]=a=>e(t).activity=a)},null,8,["modelValue"]),l(w,{for:"activity",text:e(r)("activity"),class:"text-sm h-8 flex items-center"},null,8,["text"])]),s("div",H,[l(A,{modelValue:e(t).locale,"onUpdate:modelValue":o[1]||(o[1]=a=>e(t).locale=a),errorMessage:e(t).errors.locale},null,8,["modelValue","errorMessage"]),l(d,{class:"mt-2 lg:mt-0",message:e(t).errors.locale},null,8,["message"])]),s("div",J,[s("div",K,[l(u,{for:"sort",value:e(r)("sort"),class:"text-sm"},null,8,["value"])]),l(y,{id:"sort",type:"number",modelValue:e(t).sort,"onUpdate:modelValue":o[2]||(o[2]=a=>e(t).sort=a),autocomplete:"sort",class:"w-full lg:w-28"},null,8,["modelValue"]),l(d,{class:"mt-2 lg:mt-0",message:e(t).errors.sort},null,8,["message"])])]),s("div",Q,[s("div",X,[l(h,{modelValue:e(t).is_title_fight,"onUpdate:modelValue":o[3]||(o[3]=a=>e(t).is_title_fight=a)},null,8,["modelValue"]),l(w,{for:"is_title_fight",text:e(r)("isTitleFight"),class:"text-sm h-8 flex items-center"},null,8,["text"])]),s("div",Y,[s("div",Z,[l(u,{for:"tournament_date_time",value:e(r)("date"),class:"mb-1 lg:mb-0 lg:mr-2"},null,8,["value"]),l(_,{id:"tournament_date_time",type:"date",modelValue:e(t).tournament_date_time,"onUpdate:modelValue":o[4]||(o[4]=a=>e(t).tournament_date_time=a),autocomplete:"tournament_date_time",class:"w-full max-w-56"},null,8,["modelValue"]),l(d,{class:"mt-1 sm:mt-0",message:e(t).errors.tournament_date_time},null,8,["message"])])]),l(E,{modelValue:e(t).status,"onUpdate:modelValue":o[5]||(o[5]=a=>e(t).status=a),error:e(t).errors.status},null,8,["modelValue","error"])]),s("div",ee,[s("div",te,[l(u,{for:"weight_class_name",class:"mt-4 mr-2"},{default:m(()=>[c(i(e(r)("weightClassName")),1)]),_:1}),s("div",se,[s("div",le,i(e(t).weight_class_name.length)+" / 100 "+i(e(r)("characters")),1),l(_,{id:"weight_class_name",type:"text",modelValue:e(t).weight_class_name,"onUpdate:modelValue":o[6]||(o[6]=a=>e(t).weight_class_name=a),maxlength:"100",autocomplete:"weight_class_name",placeholder:e(r)("placeholderWeightClassName")},null,8,["modelValue","placeholder"]),l(d,{class:"mt-2",message:e(t).errors.weight_class_name},null,8,["message"])])]),s("div",oe,[s("div",ae,[l(u,{for:"rounds_scheduled",value:e(r)("roundsScheduled"),class:"mr-2 w-auto"},null,8,["value"])]),l(y,{id:"rounds_scheduled",type:"number",modelValue:e(t).rounds_scheduled,"onUpdate:modelValue":o[7]||(o[7]=a=>e(t).rounds_scheduled=a),autocomplete:"rounds_scheduled",class:"max-w-20"},null,8,["modelValue"]),l(d,{class:"mt-2 lg:mt-0",message:e(t).errors.rounds_scheduled},null,8,["message"])])]),s("div",re,[s("div",ie,[l(u,{for:"country",class:"mt-4 mr-2"},{default:m(()=>[c(i(e(r)("country")),1)]),_:1}),s("div",ne,[s("div",me,i(e(t).country.length)+" / 100 "+i(e(r)("characters")),1),l(_,{class:"max-w-80",id:"country",type:"text",modelValue:e(t).country,"onUpdate:modelValue":o[8]||(o[8]=a=>e(t).country=a),maxlength:"100",required:"",autocomplete:"country"},null,8,["modelValue"]),l(d,{class:"mt-2",message:e(t).errors.country},null,8,["message"])])]),s("div",de,[l(u,{for:"country",class:"mt-4 mr-2"},{default:m(()=>[c(i(e(r)("city")),1)]),_:1}),s("div",ue,[s("div",ce,i(e(t).city.length)+" / 100 "+i(e(r)("characters")),1),l(_,{class:"max-w-80",id:"city",type:"text",modelValue:e(t).city,"onUpdate:modelValue":o[9]||(o[9]=a=>e(t).city=a),maxlength:"100",required:"",autocomplete:"city"},null,8,["modelValue"]),l(d,{class:"mt-2",message:e(t).errors.city},null,8,["message"])])])]),s("div",_e,[l(g,{modelValue:e(t).fighter_red_id,"onUpdate:modelValue":o[10]||(o[10]=a=>e(t).fighter_red_id=a),options:f.athletes,label:e(r)("fighterRed"),error:e(t).errors.fighter_red_id},null,8,["modelValue","options","label","error"]),l(g,{modelValue:e(t).fighter_blue_id,"onUpdate:modelValue":o[11]||(o[11]=a=>e(t).fighter_blue_id=a),options:f.athletes,label:e(r)("fighterBlue"),error:e(t).errors.fighter_blue_id},null,8,["modelValue","options","label","error"]),l(g,{modelValue:e(t).winner_id,"onUpdate:modelValue":o[12]||(o[12]=a=>e(t).winner_id=a),options:f.athletes,label:e(r)("winner"),error:e(t).errors.winner_id},null,8,["modelValue","options","label","error"])]),s("div",fe,[s("div",ge,[l(u,{for:"name"},{default:m(()=>[pe,c(" "+i(e(r)("title")),1)]),_:1}),s("div",xe,i(e(t).name.length)+" / 255 "+i(e(r)("characters")),1)]),l(_,{id:"name",type:"text",modelValue:e(t).name,"onUpdate:modelValue":o[13]||(o[13]=a=>e(t).name=a),maxlength:"255",required:"",autocomplete:"name"},null,8,["modelValue"]),l(d,{class:"mt-2",message:e(t).errors.name},null,8,["message"])]),s("div",he,[s("div",we,[l(u,{for:"short",value:e(r)("shortDescription")},null,8,["value"]),s("div",ye,i(e(t).short.length)+" / 255 "+i(e(r)("characters")),1)]),l(q,{modelValue:e(t).short,"onUpdate:modelValue":o[14]||(o[14]=a=>e(t).short=a),class:"w-full"},null,8,["modelValue"]),l(d,{class:"mt-2",message:e(t).errors.short},null,8,["message"])]),s("div",ve,[l(u,{for:"description",value:e(r)("description")},null,8,["value"]),l(D,{modelValue:e(t).description,"onUpdate:modelValue":o[15]||(o[15]=a=>e(t).description=a),height:500},null,8,["modelValue"]),l(d,{class:"mt-2",message:e(t).errors.description},null,8,["message"])]),l(L,{"onUpdate:images":o[16]||(o[16]=a=>e(t).images=a)}),s("div",be,[l(x,{href:n.route("admin.tournaments.index"),class:"mb-3"},{icon:m(()=>[Ve]),default:m(()=>[c(" "+i(e(r)("back")),1)]),_:1},8,["href"]),l(S,{class:z(["ms-4 mb-0",{"opacity-25":e(t).processing}]),disabled:e(t).processing},{icon:m(()=>[ke]),default:m(()=>[c(" "+i(e(r)("save")),1)]),_:1},8,["class","disabled"])])],32)])])]),_:1},8,["title"]))}};export{Re as default};
