import{l as m,z as I,ag as w,ah as C,C as V,m as n,o as a,f as e,I as z,ai as H,aj as L,ak as F,al as A,am as B,an as D,ao as O,ap as T,aq as G,ar as K,as as q,at as N,au as U,N as P,O as Q,av as W,u as J,Q as R,e as X,w as y,n as M,t as d,k as _,F as S,v as $,q as E,A as Z,i as j,p as k,E as Y}from"./vendor-KLnQVH-z.js";import{A as ee}from"./AdminLayout-DDIonVUW.js";import{T as te}from"./TitlePage-Dn5_Db7V.js";import{_ as se}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vendor-axios-jn5v1YEJ.js";import"./vendor-lodash-p73LerAr.js";import"./ScrollButtons-D6M3P1oi.js";import"./ResponsiveNavLink-GNuCPEap.js";import"./LocaleSelectOption-DQWMhK86.js";import"./app-CpeRQVat.js";import"./auth-image-XbvYdkSi.js";const b=h=>(P("data-v-d9dceeee"),h=h(),Q(),h),oe={class:"flex justify-center items-center mb-2"},ae={for:"theme-toggle",class:"flex items-center justify-center w-8 h-8 bg-slate-100 hover:bg-yellow-100 rounded-full border border-slate-400 cursor-pointer"},le={key:0,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg"},re=b(()=>e("path",{class:"fill-current text-slate-400",d:"M7 0h2v2H7V0Zm5.88 1.637 1.414 1.415-1.415 1.413-1.414-1.414 1.415-1.414ZM14 7h2v2h-2V7Zm-1.05 7.433-1.415-1.414 1.414-1.414 1.415 1.413-1.414 1.415ZM7 14h2v2H7v-2Zm-4.02.363L1.566 12.95l1.415-1.414 1.414 1.415-1.415 1.413ZM0 7h2v2H0V7Zm3.05-5.293L4.465 3.12 3.05 4.535 1.636 3.121 3.05 1.707Z"},null,-1)),ne=b(()=>e("path",{class:"fill-current text-slate-500",d:"M8 4C5.8 4 4 5.8 4 8s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4Z"},null,-1)),ie=[re,ne],ce={key:1,class:"w-4 h-4",xmlns:"http://www.w3.org/2000/svg"},de=b(()=>e("path",{class:"fill-current text-slate-400",d:"M6.2 2C3.2 2.8 1 5.6 1 8.9 1 12.8 4.2 16 8.1 16c3.3 0 6-2.2 6.9-5.2C9.7 12.2 4.8 7.3 6.2 2Z"},null,-1)),ue=b(()=>e("path",{class:"fill-current text-slate-500",d:"M12.5 6a.625.625 0 0 1-.625-.625 1.252 1.252 0 0 0-1.25-1.25.625.625 0 1 1 0-1.25 1.252 1.252 0 0 0 1.25-1.25.625.625 0 1 1 1.25 0c.001.69.56 1.249 1.25 1.25a.625.625 0 1 1 0 1.25c-.69.001-1.249.56-1.25 1.25A.625.625 0 0 1 12.5 6Z"},null,-1)),pe=[de,ue],me={__name:"CodeMirrorEditor",props:{modelValue:String,theme:{type:String,default:"light"}},emits:["update:modelValue"],setup(h,{emit:u}){const g=h,v=u,l=m(null),t=m(!1);let s;const p=(r=!1)=>{const o=[L(),F(),A(),B(),D(),O(W),T.of([...K,...q,...N]),G(),w.theme({".cm-content":{"font-size":"16px"}}),w.updateListener.of(i=>{i.docChanged&&v("update:modelValue",i.state.doc.toString())})];return r&&o.push(U),o};return I(()=>{s=new w({state:C.create({doc:g.modelValue,extensions:p(t.value)}),parent:l.value})}),V(()=>g.modelValue,r=>{if(s){const o=s.state.doc.toString();r!==o&&s.dispatch({changes:{from:0,to:o.length,insert:r}})}}),V(t,r=>{if(s){const o=C.create({doc:s.state.doc.toString(),extensions:p(r)});s.setState(o)}}),(r,o)=>(a(),n("div",null,[e("div",oe,[z(e("input",{type:"checkbox",id:"theme-toggle","onUpdate:modelValue":o[0]||(o[0]=i=>t.value=i),class:"sr-only"},null,512),[[H,t.value]]),e("label",ae,[t.value?(a(),n("svg",ce,pe)):(a(),n("svg",le,ie))])]),e("div",{ref_key:"editor",ref:l,class:"code-editor"},null,512)]))}},he=se(me,[["__scopeId","data-v-d9dceeee"]]),ve={class:"bg-gray-100 dark:bg-slate-900 bg-opacity-90 dark:bg-opacity-90 px-4 sm:px-6 lg:px-8 py-8 w-full max-w-12xl mx-auto"},fe={class:"mb-4 py-1 px-3 w-full flex items-center justify-center text-sm italic font-semibold text-rose-400 bg-amber-50 opacity-80 border border-rose-200"},xe={class:"flex items-center justify-center flex-row pb-4 px-4 text-sm overflow-x-auto flex-nowrap"},_e=["onClick"],ge={class:"flex items-center justify-center flex-row flex-wrap pb-4"},be={class:"flex items-center overflow-x-auto"},we=["onClick"],ye={key:0,class:"border border-gray-400 bg-slate-100 dark:bg-slate-200 overflow-hidden shadow-xl sm:rounded-lg p-4"},ke={class:"mb-1 font-semibold text-gray-900"},Ce={class:"text-sm text-blue-500"},Ve={class:"flex justify-end mt-2"},Me=e("svg",{class:"w-4 h-4 fill-current text-slate-100 mr-1",viewBox:"0 0 16 16"},[e("path",{d:"M14.3 2.3L5 11.6 1.7 8.3c-.4-.4-1-.4-1.4 0-.4.4-.4 1 0 1.4l4 4c.2.2.4.3.7.3.3 0 .5-.1.7-.3l10-10c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0z"})],-1),Se={key:0,class:"text-red-600 mt-2"},Oe={__name:"Index",setup(h){const{t:u}=J(),{props:g}=R(),v=m(g.fileContents),l=m(""),t=m(Object.keys(v.value)[0]),s=m(""),p=m(""),r=(i,x)=>{l.value=i,t.value=x,s.value=v.value[x][i],p.value=""},o=async()=>{Y.post(route("admin.components.save"),{fileName:l.value,fileContent:s.value}),p.value="Не удалось сохранить изменения в файле",window.location.reload()};return(i,x)=>(a(),X(ee,{title:_(u)("componentEditorHeader")},{header:y(()=>[j(te,null,{default:y(()=>[k(d(_(u)("componentEditorHeader")),1)]),_:1})]),default:y(()=>[e("div",ve,[e("span",fe,d(_(u)("componentEditorWarning")),1),e("ul",xe,[(a(!0),n(S,null,$(Object.keys(v.value),c=>(a(),n("li",{key:c,class:"inline mr-1"},[e("a",{href:"#",onClick:Z(f=>t.value=c,["prevent"]),class:E({"block px-3 py-1 rounded-t-md bg-blue-600 text-white border border-gray-300 whitespace-nowrap":t.value===c,"block px-3 py-1 rounded-t-md bg-zinc-200 dark:bg-zinc-400 border border-zinc-500 text-black whitespace-nowrap":t.value!==c})},d(c),11,_e)]))),128))]),e("div",ge,[e("div",be,[(a(!0),n(S,null,$(v.value[t.value],(c,f)=>(a(),n("a",{key:f,href:"#",onClick:Z($e=>r(f,t.value),["prevent"]),class:E({"block mr-1 px-3 py-1 text-sm border border-gray-500 rounded-sm hover:text-rose-700 dark:hover:text-red-300 hover:bg-teal-400 dark:hover:bg-teal-700":!0,"bg-teal-600 text-white":l.value===f&&t.value===t.value,"bg-slate-200 text-black dark:border-slate-400 dark:bg-slate-600 dark:text-slate-100":l.value!==f||t.value!==t.value})},d(f),11,we))),128))])]),l.value?(a(),n("div",ye,[e("h2",ke,[e("span",Ce,d(_(u)("editingFile")),1),k(" "+d(l.value),1)]),j(he,{modelValue:s.value,"onUpdate:modelValue":x[0]||(x[0]=c=>s.value=c),theme:"dark",class:"w-full h-auto"},null,8,["modelValue"]),e("div",Ve,[e("button",{onClick:o,class:"flex items-center btn px-3 py-1 bg-teal-500 text-white text-md font-semibold rounded-md shadow-md transition-colors duration-300 ease-in-out hover:bg-teal-600 focus:bg-teal-600 focus:outline-none"},[Me,k(" "+d(_(u)("save")),1)])]),p.value?(a(),n("div",Se,d(p.value),1)):M("",!0)])):M("",!0)])]),_:1},8,["title"]))}};export{Oe as default};
