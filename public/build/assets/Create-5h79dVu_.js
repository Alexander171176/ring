import{r as V,w as k,b as U,x as b,P as v,k as t,G as j,H as l,o as $,A as B,D as c,I as _,J as m,u as e,L as A,y as C}from"./vue-DrbZvlgE.js";import{a as S,u as M,T}from"./app-Bp8GUED0.js";import{A as D}from"./AdminLayout-m43ZpFmT.js";import{T as L}from"./TitlePage-CVAOVWeu.js";import{_ as h}from"./DefaultButton-B4OupGBJ.js";import{_ as n,a as g,b as N}from"./InputText-DBtoU87u.js";import{_ as i}from"./InputError-CDoDc20f.js";import{_ as z}from"./MetaDescTextarea-DjPUZo-s.js";import{_ as q,a as E,b as u}from"./InputNumber-D963n_HP.js";import{_ as F,a as y}from"./TinyEditor-CxBa4bIm.js";import{_ as I}from"./MultiImageUpload-Cl2NMbU3.js";import{_ as O}from"./StanceSelect-7fFT1-ot.js";import"./vendor-CGnu3J7H.js";import"./ScrollButtons-DwaEk0p5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-Cy7DQwuF.js";import"./LocaleSelectOption-DauWSBmB.js";import"./auth-image-XbvYdkSi.js";const R={class:"mb-3 flex flex-col items-start"},H={key:0,class:"mb-2"},P=["src"],G={__name:"AvatarCreateUpload",props:{modelValue:File||null,currentUrl:String,label:{type:String,default:"Avatar"},error:{type:String,default:""}},emits:["update:modelValue"],setup(p,{emit:x}){const r=p,s=x,f=V(null);k(()=>r.modelValue,a=>{a instanceof File?f.value=URL.createObjectURL(a):f.value=null},{immediate:!0});const w=U(()=>f.value?f.value:r.currentUrl?`/storage/${r.currentUrl.replace(/^\/+/,"")}`:null),d=a=>{const o=a.target.files[0];s("update:modelValue",o)};return(a,o)=>(v(),b("div",R,[t(n,{for:"avatar-upload",value:p.label},null,8,["value"]),w.value?(v(),b("div",H,[l("img",{src:w.value,alt:"Avatar",class:"w-32 h-32 object-cover rounded border border-gray-300 dark:border-gray-600"},null,8,P)])):j("",!0),l("input",{id:"avatar-upload",type:"file",accept:"image/png",onChange:d,class:"mt-1 text-sm text-gray-700 dark:text-gray-300"},null,32),t(i,{class:"mt-2",message:p.error},null,8,["message"])]))}},J={class:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-12xl mx-auto"},K={class:"p-4 bg-slate-50 dark:bg-slate-700 border border-blue-400 dark:border-blue-200 shadow-lg shadow-gray-500 dark:shadow-slate-400 bg-opacity-95 dark:bg-opacity-95"},Q={class:"sm:flex sm:justify-between sm:items-center mb-2"},W=l("svg",{class:"w-4 h-4 fill-current text-slate-100 shrink-0 mr-2",viewBox:"0 0 16 16"},[l("path",{d:"M4.3 4.5c1.9-1.9 5.1-1.9 7 0 .7.7 1.2 1.7 1.4 2.7l2-.3c-.2-1.5-.9-2.8-1.9-3.8C10.1.4 5.7.4 2.9 3.1L.7.9 0 7.3l6.4-.7-2.1-2.1zM15.6 8.7l-6.4.7 2.1 2.1c-1.9 1.9-5.1 1.9-7 0-.7-.7-1.2-1.7-1.4-2.7l-2 .3c.2 1.5.9 2.8 1.9 3.8 1.4 1.4 3.1 2 4.9 2 1.8 0 3.6-.7 4.9-2l2.2 2.2.8-6.4z"})],-1),X=l("div",{class:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2"},null,-1),Y={class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-4"},Z={class:"flex flex-row items-center gap-2"},ee={class:"flex flex-row items-center gap-2 w-auto"},se={class:"flex flex-row items-center gap-2"},te={class:"h-8 flex items-center"},le={class:"mb-3 flex flex-col items-start"},ae={class:"flex justify-between w-full"},oe={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},re={class:"mb-3 flex flex-col items-start"},ie={class:"flex justify-between w-full"},ne=l("span",{class:"text-red-500 dark:text-red-300 font-semibold"},"*",-1),me={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},de={class:"mb-3 flex flex-col items-start"},ce={class:"flex justify-between w-full"},ue=l("span",{class:"text-red-500 dark:text-red-300 font-semibold"},"*",-1),_e={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},fe={class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-4"},ge={class:"mt-3 flex flex-col items-start w-full"},pe={class:"flex justify-start w-full"},xe={class:"flex flex-row items-center justify-end w-full"},we={class:"mb-3 flex flex-col items-end w-96"},ve={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},be={class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-4"},he={class:"flex flex-row items-center gap-2"},ye={class:"h-8 flex items-center"},Ve={class:"flex flex-row items-center gap-2"},ke={class:"h-8 flex items-center"},Ue={class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-4"},je={class:"flex flex-row items-center gap-2"},$e={class:"h-8 flex items-center"},Be={class:"flex flex-row items-center gap-2"},Ae={class:"h-8 flex items-center"},Ce={class:"flex flex-row items-center gap-2"},Se={class:"h-8 flex items-center"},Me={class:"mb-3 flex justify-between flex-col lg:flex-row items-center gap-4"},Te={class:"flex flex-row items-center gap-2"},De={class:"h-8 flex items-center"},Le={class:"flex flex-row items-center gap-2"},Ne={class:"h-8 flex items-center"},ze={class:"flex flex-row items-center gap-2"},qe={class:"h-8 flex items-center"},Ee={class:"flex flex-row items-center gap-2"},Fe={class:"h-8 flex items-center"},Ie={class:"mb-3 flex flex-col items-start"},Oe={class:"mb-3 flex flex-col items-start"},Re={class:"flex justify-between w-full"},He={class:"text-md text-gray-900 dark:text-gray-400 mt-1"},Pe={class:"mb-3 flex flex-col items-start"},Ge={class:"flex items-center justify-center mt-4"},Je=l("svg",{class:"w-4 h-4 fill-current text-slate-100 shrink-0 mr-2",viewBox:"0 0 16 16"},[l("path",{d:"M4.3 4.5c1.9-1.9 5.1-1.9 7 0 .7.7 1.2 1.7 1.4 2.7l2-.3c-.2-1.5-.9-2.8-1.9-3.8C10.1.4 5.7.4 2.9 3.1L.7.9 0 7.3l6.4-.7-2.1-2.1zM15.6 8.7l-6.4.7 2.1 2.1c-1.9 1.9-5.1 1.9-7 0-.7-.7-1.2-1.7-1.4-2.7l-2 .3c.2 1.5.9 2.8 1.9 3.8 1.4 1.4 3.1 2 4.9 2 1.8 0 3.6-.7 4.9-2l2.2 2.2.8-6.4z"})],-1),Ke=l("svg",{class:"w-4 h-4 fill-current text-slate-100",viewBox:"0 0 16 16"},[l("path",{d:"M14.3 2.3L5 11.6 1.7 8.3c-.4-.4-1-.4-1.4 0-.4.4-.4 1 0 1.4l4 4c.2.2.4.3.7.3.3 0 .5-.1.7-.3l10-10c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0z"})],-1),_s={__name:"Create",props:{images:Array},setup(p){const x=S(),{t:r}=M(),s=T({sort:"0",locale:"",nickname:"",first_name:"",last_name:"",date_of_birth:"",nationality:"",height_cm:"0",reach_cm:"0",stance:null,bio:"",short:"",description:"",wins:"0",losses:"0",draws:"0",no_contests:"0",wins_by_ko:"0",wins_by_submission:"0",wins_by_decision:"0",activity:!1,avatar:null,images:[]}),f=d=>{if(!d)return"";const a=new Date(d);return isNaN(a.getTime())?"":a.toISOString().split("T")[0]};$(()=>{s.date_of_birth&&(s.date_of_birth=f(s.date_of_birth))});const w=()=>{s.transform(d=>({...d,activity:d.activity?1:0})),s.post(route("admin.athletes.store"),{forceFormData:!0,errorBag:"createAthlete",preserveScroll:!0,onSuccess:d=>{x.success("Спортсмен успешно создан!")},onError:d=>{console.error("❌ Ошибки валидации:",d);const a=d[Object.keys(d)[0]];x.error(a||"Пожалуйста, проверьте правильность заполнения полей.")}})};return(d,a)=>(v(),B(D,{title:e(r)("addAthlete")},{header:c(()=>[t(L,null,{default:c(()=>[_(m(e(r)("addAthlete")),1)]),_:1})]),default:c(()=>[l("div",J,[l("div",K,[l("div",Q,[t(h,{href:d.route("admin.athletes.index")},{icon:c(()=>[W]),default:c(()=>[_(" "+m(e(r)("back")),1)]),_:1},8,["href"]),X]),l("form",{onSubmit:A(w,["prevent"]),enctype:"multipart/form-data",class:"p-3 w-full"},[l("div",Y,[l("div",Z,[t(q,{modelValue:e(s).activity,"onUpdate:modelValue":a[0]||(a[0]=o=>e(s).activity=o)},null,8,["modelValue"]),t(E,{for:"activity",text:e(r)("activity"),class:"text-sm h-8 flex items-center"},null,8,["text"])]),l("div",ee,[t(F,{modelValue:e(s).locale,"onUpdate:modelValue":a[1]||(a[1]=o=>e(s).locale=o),errorMessage:e(s).errors.locale},null,8,["modelValue","errorMessage"]),t(i,{class:"mt-2 lg:mt-0",message:e(s).errors.locale},null,8,["message"])]),l("div",se,[l("div",te,[t(n,{for:"sort",value:e(r)("sort"),class:"text-sm"},null,8,["value"])]),t(u,{id:"sort",type:"number",modelValue:e(s).sort,"onUpdate:modelValue":a[2]||(a[2]=o=>e(s).sort=o),autocomplete:"sort",class:"w-full lg:w-28"},null,8,["modelValue"]),t(i,{class:"mt-2 lg:mt-0",message:e(s).errors.sort},null,8,["message"])])]),l("div",le,[l("div",ae,[t(n,{for:"nickname"},{default:c(()=>[_(m(e(r)("nickname")),1)]),_:1}),l("div",oe,m(e(s).nickname.length)+" / 100 "+m(e(r)("characters")),1)]),t(g,{id:"nickname",type:"text",modelValue:e(s).nickname,"onUpdate:modelValue":a[3]||(a[3]=o=>e(s).nickname=o),maxlength:"100",required:"",autocomplete:"nickname"},null,8,["modelValue"]),t(i,{class:"mt-2",message:e(s).errors.nickname},null,8,["message"])]),l("div",re,[l("div",ie,[t(n,{for:"first_name"},{default:c(()=>[ne,_(" "+m(e(r)("name")),1)]),_:1}),l("div",me,m(e(s).first_name.length)+" / 100 "+m(e(r)("characters")),1)]),t(g,{id:"first_name",type:"text",modelValue:e(s).first_name,"onUpdate:modelValue":a[4]||(a[4]=o=>e(s).first_name=o),maxlength:"100",required:"",autocomplete:"first_name"},null,8,["modelValue"]),t(i,{class:"mt-2",message:e(s).errors.first_name},null,8,["message"])]),l("div",de,[l("div",ce,[t(n,{for:"last_name"},{default:c(()=>[ue,_(" "+m(e(r)("lastName")),1)]),_:1}),l("div",_e,m(e(s).last_name.length)+" / 100 "+m(e(r)("characters")),1)]),t(g,{id:"last_name",type:"text",modelValue:e(s).last_name,"onUpdate:modelValue":a[5]||(a[5]=o=>e(s).last_name=o),maxlength:"100",required:"",autocomplete:"last_name"},null,8,["modelValue"]),t(i,{class:"mt-2",message:e(s).errors.last_name},null,8,["message"])]),l("div",fe,[l("div",ge,[l("div",pe,[t(n,{for:"date_of_birth",value:e(r)("dateBirth"),class:"mb-1 lg:mb-0 lg:mr-2"},null,8,["value"]),t(g,{id:"date_of_birth",type:"date",modelValue:e(s).date_of_birth,"onUpdate:modelValue":a[6]||(a[6]=o=>e(s).date_of_birth=o),autocomplete:"date_of_birth",class:"w-full max-w-56"},null,8,["modelValue"]),t(i,{class:"mt-1 sm:mt-0",message:e(s).errors.date_of_birth},null,8,["message"])])]),l("div",xe,[t(n,{for:"nationality",class:"mt-4 mr-2"},{default:c(()=>[_(m(e(r)("country")),1)]),_:1}),l("div",we,[l("div",ve,m(e(s).nationality.length)+" / 100 "+m(e(r)("characters")),1),t(g,{id:"nationality",type:"text",modelValue:e(s).nationality,"onUpdate:modelValue":a[7]||(a[7]=o=>e(s).nationality=o),maxlength:"100",required:"",autocomplete:"nationality"},null,8,["modelValue"]),t(i,{class:"mt-2",message:e(s).errors.nationality},null,8,["message"])])])]),l("div",be,[t(O,{modelValue:e(s).stance,"onUpdate:modelValue":a[8]||(a[8]=o=>e(s).stance=o),error:e(s).errors.stance},null,8,["modelValue","error"]),l("div",he,[l("div",ye,[t(n,{for:"height_cm",value:e(r)("cmHeight"),class:"text-sm"},null,8,["value"])]),t(u,{id:"height_cm",type:"number",modelValue:e(s).height_cm,"onUpdate:modelValue":a[9]||(a[9]=o=>e(s).height_cm=o),autocomplete:"height_cm",class:"w-full lg:w-28"},null,8,["modelValue"]),t(i,{class:"mt-2 lg:mt-0",message:e(s).errors.height_cm},null,8,["message"])]),l("div",Ve,[l("div",ke,[t(n,{for:"reach_cm",value:e(r)("cmReach"),class:"text-sm"},null,8,["value"])]),t(u,{id:"reach_cm",type:"number",modelValue:e(s).reach_cm,"onUpdate:modelValue":a[10]||(a[10]=o=>e(s).reach_cm=o),autocomplete:"reach_cm",class:"w-full lg:w-28"},null,8,["modelValue"]),t(i,{class:"mt-2 lg:mt-0",message:e(s).errors.reach_cm},null,8,["message"])])]),l("div",Ue,[l("div",je,[l("div",$e,[t(n,{for:"losses",value:e(r)("losses"),class:"text-sm"},null,8,["value"])]),t(u,{id:"losses",type:"number",modelValue:e(s).losses,"onUpdate:modelValue":a[11]||(a[11]=o=>e(s).losses=o),autocomplete:"losses",class:"w-full lg:w-28"},null,8,["modelValue"]),t(i,{class:"mt-2 lg:mt-0",message:e(s).errors.losses},null,8,["message"])]),l("div",Be,[l("div",Ae,[t(n,{for:"draws",value:e(r)("draws"),class:"text-sm"},null,8,["value"])]),t(u,{id:"draws",type:"number",modelValue:e(s).draws,"onUpdate:modelValue":a[12]||(a[12]=o=>e(s).draws=o),autocomplete:"draws",class:"w-full lg:w-28"},null,8,["modelValue"]),t(i,{class:"mt-2 lg:mt-0",message:e(s).errors.draws},null,8,["message"])]),l("div",Ce,[l("div",Se,[t(n,{for:"wins",value:e(r)("wins"),class:"text-sm"},null,8,["value"])]),t(u,{id:"wins",type:"number",modelValue:e(s).wins,"onUpdate:modelValue":a[13]||(a[13]=o=>e(s).wins=o),autocomplete:"wins",class:"w-full lg:w-28"},null,8,["modelValue"]),t(i,{class:"mt-2 lg:mt-0",message:e(s).errors.wins},null,8,["message"])])]),l("div",Me,[l("div",Te,[l("div",De,[t(n,{for:"wins_by_ko",value:e(r)("winsByKo"),class:"text-sm"},null,8,["value"])]),t(u,{id:"wins_by_ko",type:"number",modelValue:e(s).wins_by_ko,"onUpdate:modelValue":a[14]||(a[14]=o=>e(s).wins_by_ko=o),autocomplete:"wins_by_ko",class:"w-full lg:w-28"},null,8,["modelValue"]),t(i,{class:"mt-2 lg:mt-0",message:e(s).errors.wins_by_ko},null,8,["message"])]),l("div",Le,[l("div",Ne,[t(n,{for:"wins_by_submission",value:e(r)("winsBySubmission"),class:"text-sm"},null,8,["value"])]),t(u,{id:"wins_by_submission",type:"number",modelValue:e(s).wins_by_submission,"onUpdate:modelValue":a[15]||(a[15]=o=>e(s).wins_by_submission=o),autocomplete:"wins_by_submission",class:"w-full lg:w-28"},null,8,["modelValue"]),t(i,{class:"mt-2 lg:mt-0",message:e(s).errors.wins_by_submission},null,8,["message"])]),l("div",ze,[l("div",qe,[t(n,{for:"wins_by_decision",value:e(r)("winsByDecision"),class:"text-sm"},null,8,["value"])]),t(u,{id:"wins_by_decision",type:"number",modelValue:e(s).wins_by_decision,"onUpdate:modelValue":a[16]||(a[16]=o=>e(s).wins_by_decision=o),autocomplete:"wins_by_decision",class:"w-full lg:w-28"},null,8,["modelValue"]),t(i,{class:"mt-2 lg:mt-0",message:e(s).errors.wins_by_decision},null,8,["message"])])]),l("div",Ee,[l("div",Fe,[t(n,{for:"no_contests",value:e(r)("noContests"),class:"text-sm"},null,8,["value"])]),t(u,{id:"no_contests",type:"number",modelValue:e(s).no_contests,"onUpdate:modelValue":a[17]||(a[17]=o=>e(s).no_contests=o),autocomplete:"no_contests",class:"w-full lg:w-28"},null,8,["modelValue"]),t(i,{class:"mt-2 lg:mt-0",message:e(s).errors.no_contests},null,8,["message"])]),l("div",Ie,[t(n,{for:"bio",value:e(r)("bio"),class:"w-full flex justify-center"},null,8,["value"]),t(y,{modelValue:e(s).bio,"onUpdate:modelValue":a[18]||(a[18]=o=>e(s).bio=o),height:500},null,8,["modelValue"]),t(i,{class:"mt-2",message:e(s).errors.bio},null,8,["message"])]),l("div",Oe,[l("div",Re,[t(n,{for:"short",value:e(r)("shortDescription")},null,8,["value"]),l("div",He,m(e(s).short.length)+" / 255 "+m(e(r)("characters")),1)]),t(z,{modelValue:e(s).short,"onUpdate:modelValue":a[19]||(a[19]=o=>e(s).short=o),class:"w-full"},null,8,["modelValue"]),t(i,{class:"mt-2",message:e(s).errors.short},null,8,["message"])]),l("div",Pe,[t(n,{for:"description",value:e(r)("description")},null,8,["value"]),t(y,{modelValue:e(s).description,"onUpdate:modelValue":a[20]||(a[20]=o=>e(s).description=o),height:500},null,8,["modelValue"]),t(i,{class:"mt-2",message:e(s).errors.description},null,8,["message"])]),t(G,{modelValue:e(s).avatar,"onUpdate:modelValue":a[21]||(a[21]=o=>e(s).avatar=o),label:e(r)("avatar"),error:e(s).errors.avatar},null,8,["modelValue","label","error"]),t(I,{"onUpdate:images":a[22]||(a[22]=o=>e(s).images=o)}),l("div",Ge,[t(h,{href:d.route("admin.athletes.index"),class:"mb-3"},{icon:c(()=>[Je]),default:c(()=>[_(" "+m(e(r)("back")),1)]),_:1},8,["href"]),t(N,{class:C(["ms-4 mb-0",{"opacity-25":e(s).processing}]),disabled:e(s).processing},{icon:c(()=>[Ke]),default:c(()=>[_(" "+m(e(r)("save")),1)]),_:1},8,["class","disabled"])])],32)])])]),_:1},8,["title"]))}};export{_s as default};
