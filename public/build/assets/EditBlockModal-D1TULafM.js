import{u as _,l as b,C as k,m as w,n as y,o as g,f as s,i as l,t as u,A as V,k as c,w as h,p as $}from"./vendor-DbgL49-7.js";import{a as E}from"./vendor-axios-jn5v1YEJ.js";import B from"./CloseIconButton-1MTj-5v8.js";import r from"./LabelInput-emPcn-vB.js";import f from"./InputText-Pnbr-x_B.js";import p from"./DescriptionTextarea-Cjs627Fa.js";import N from"./CancelButton-vbx0sTUf.js";import U from"./PrimaryButton-Bo82LYYA.js";import C from"./LabelCheckbox-CTSmQRcf.js";import j from"./ActivityCheckbox-BuHFlpgK.js";import S from"./InputNumber-CLGVOzrR.js";import"./vendor-lodash-286Uv_vn.js";const z={key:0,class:"fixed inset-0 flex items-center justify-center z-50 overflow-y-auto custom-scrollbar"},q=s("div",{class:"fixed inset-0 bg-black opacity-50"},null,-1),M={class:"absolute w-full max-w-screen-2xl max-h-screen overflow-y-auto bg-white dark:bg-gray-800 p-4 rounded-lg shadow-lg z-10 custom-scrollbar"},A={class:"text-center text-lg font-bold mb-2 text-gray-600 dark:text-slate-100 tracking-wide"},D={class:"pb-12"},G={class:"mb-3 flex items-center"},I={class:"flex justify-between w-full"},O={class:"flex flex-row items-center"},T={class:"flex flex-row items-center"},F={class:"mb-3 flex flex-col items-start"},H={class:"mb-3 flex flex-col items-start"},J={class:"mb-3 flex flex-col items-start"},K={class:"mb-3 flex flex-col items-start"},L={class:"fixed bottom-0 left-1/2 transform -translate-x-1/2 bg-white dark:bg-gray-800 p-4 shadow-md z-20 w-full max-w-screen-2xl"},P={class:"flex justify-end"},ie={__name:"EditBlockModal",props:{block:{type:Object,default:()=>({})},show:{type:Boolean,required:!0},isEdit:{type:Boolean,default:!1},pluginName:{type:String,required:!0}},emits:["close","update"],setup(n,{emit:v}){const{t:d}=_(),a=n,m=v,t=b({...a.block});k(()=>a.block,i=>{t.value={...i}},{immediate:!0});const x=async()=>{try{const i=`/api/plugins/${a.pluginName}/blocks${a.isEdit?`/${t.value.id}`:""}`,e=a.isEdit?"put":"post";await E({method:e,url:i,data:t.value}),m("update"),m("close")}catch{}};return(i,e)=>n.show?(g(),w("div",z,[q,s("div",M,[l(B,{onClose:e[0]||(e[0]=o=>m("close"))}),s("h2",A,u(n.isEdit?"Редактировать блок":"Создать блок"),1),s("form",{onSubmit:V(x,["prevent"]),class:"p-3 w-full"},[s("div",D,[s("div",G,[s("div",I,[s("div",O,[l(j,{modelValue:t.value.activity,"onUpdate:modelValue":e[1]||(e[1]=o=>t.value.activity=o)},null,8,["modelValue"]),l(C,{for:"activity",text:c(d)("activity")},null,8,["text"])])]),s("div",T,[l(r,{for:"sort",value:c(d)("sort"),class:"mr-3"},null,8,["value"]),l(S,{id:"sort",type:"number",modelValue:t.value.sort,"onUpdate:modelValue":e[2]||(e[2]=o=>t.value.sort=o),autocomplete:"sort"},null,8,["modelValue"])])]),s("div",F,[l(r,{for:"block.links",value:"Ссылка блока"}),l(f,{id:"links",type:"text",modelValue:t.value.links,"onUpdate:modelValue":e[3]||(e[3]=o=>t.value.links=o),autocomplete:"links"},null,8,["modelValue"])]),s("div",H,[l(r,{for:"svg_blocks",value:"SVG блока"}),l(p,{modelValue:t.value.svg_blocks,"onUpdate:modelValue":e[4]||(e[4]=o=>t.value.svg_blocks=o),class:"w-full"},null,8,["modelValue"])]),s("div",J,[l(r,{for:"title",value:"Текст заголовка"}),l(f,{id:"title",type:"text",modelValue:t.value.title,"onUpdate:modelValue":e[5]||(e[5]=o=>t.value.title=o),autocomplete:"links"},null,8,["modelValue"])]),s("div",K,[l(r,{for:"paragraph",value:"Текст параграфа"}),l(p,{modelValue:t.value.paragraph,"onUpdate:modelValue":e[6]||(e[6]=o=>t.value.paragraph=o),class:"w-full"},null,8,["modelValue"])])]),s("div",L,[s("div",P,[l(U,{type:"submit"},{default:h(()=>[$(u(n.isEdit?"Сохранить":"Создать"),1)]),_:1}),l(N,{onClick:e[7]||(e[7]=o=>m("close")),class:"ml-2"})])])],32)])])):y("",!0)}};export{ie as default};
