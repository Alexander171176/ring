import{u as F,y as L,T as C,l as T,G as b,e as B,o as l,w as g,f as e,t as o,k as a,I as N,m as i,F as h,v as f,aF as A,q as D,i as E,p as I,E as R}from"./vendor-KLnQVH-z.js";import{A as V}from"./AdminLayout-eFyNQLG8.js";import{T as S}from"./TitlePage-Dn5_Db7V.js";import"./vendor-axios-jn5v1YEJ.js";import"./vendor-lodash-p73LerAr.js";import"./ScrollButtons-BQ3VHXoa.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-GNuCPEap.js";import"./LocaleSelectOption-A1uotnOm.js";import"./app-DfhT5Fj-.js";import"./auth-image-XbvYdkSi.js";const G={class:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-12xl mx-auto"},O={class:"p-4 bg-slate-50 dark:bg-slate-700 border border-blue-400 dark:border-blue-200 overflow-hidden shadow-lg shadow-gray-500 dark:shadow-slate-400 bg-opacity-95 dark:bg-opacity-95"},U={class:"p-6 bg-slate-100 dark:bg-slate-600 rounded shadow"},q={class:"text-slate-700 dark:text-slate-100 text-center text-xl font-semibold mb-4"},z={class:"flex flex-wrap gap-4 mb-4"},M=["value"],P=["value"],Q=["disabled"],W={class:"border rounded p-4 bg-gray-50 dark:bg-gray-700 overflow-auto max-h-[600px] text-sm font-mono"},j={key:0,class:"text-slate-700 dark:text-slate-100"},H=["id"],J={class:"font-semibold text-blue-500 dark:text-blue-200 inline-block w-12 text-right mr-2 select-none"},K={class:"whitespace-pre-wrap flex-1"},de={__name:"Index",props:{log:String,files:Array,selectedFile:String},setup(v){const{t:r}=F();L();const d=v,p=C({}),n=T(""),x=b(()=>d.log.split(`
`)),m=b(()=>n.value?x.value.filter(s=>s.toLowerCase().includes(n.value.toLowerCase())):x.value),_=s=>{R.get(route("admin.logs.index",{file:s}))},k=()=>{confirm("Очистить выбранный лог?")&&p.delete(route("admin.logs.clear",{file:d.selectedFile}))},w=s=>/ERROR|exception|critical/i.test(s)?"text-red-500 dark:text-red-200 font-bold":/WARN|warning/i.test(s)?"text-yellow-600 font-semibold":/INFO/i.test(s)?"text-indigo-800 dark:text-indigo-200":/DEBUG/i.test(s)?"text-fuchsia-800 dark:text-fuchsia-200 font-bold":"text-gray-900 dark:text-gray-100",y=()=>{window.location.href=route("admin.logs.download",{file:d.selectedFile})};return(s,c)=>(l(),B(V,{title:a(r)("logs")},{header:g(()=>[E(S,null,{default:g(()=>[I(o(a(r)("logs")),1)]),_:1})]),default:g(()=>[e("div",G,[e("div",O,[e("div",U,[e("h1",q,o(a(r)("viewingLogs")),1),e("div",z,[e("select",{onChange:c[0]||(c[0]=t=>_(t.target.value)),value:d.selectedFile,class:"border rounded-sm h-8 py-0 px-2 bg-slate-100 dark:bg-slate-900 text-slate-700 dark:text-slate-50"},[(l(!0),i(h,null,f(d.files,t=>(l(),i("option",{key:t,value:t,class:"text-md"},o(t),9,P))),128))],40,M),N(e("input",{"onUpdate:modelValue":c[1]||(c[1]=t=>n.value=t),placeholder:"Поиск...",class:"bg-slate-100 dark:bg-slate-900 text-slate-700 dark:text-slate-50 border rounded-sm h-8 py-0 px-2 flex-1"},null,512),[[A,n.value]]),e("button",{onClick:k,disabled:a(p).processing,class:"h-8 py-0 px-2 bg-rose-500 text-white rounded-sm hover:bg-amber-500 disabled:opacity-50"},o(a(r)("clearLog")),9,Q),e("button",{onClick:y,class:"h-8 py-0 px-2 bg-green-500 text-white rounded-sm hover:bg-teal-500"},o(a(r)("download")),1)]),e("div",W,[m.value.length===0?(l(),i("div",j,o(a(r)("noData")),1)):(l(!0),i(h,{key:1},f(m.value,(t,u)=>(l(),i("div",{key:u,id:"line-"+u,class:D(["group flex hover:bg-yellow-100 dark:hover:bg-slate-900 transition-colors duration-200",w(t)])},[e("span",J,o(u+1)+". ",1),e("pre",K,o(t),1)],10,H))),128))])])])])]),_:1},8,["title"]))}};export{de as default};
