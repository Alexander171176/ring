import{A as B}from"./AdminLayout-m43ZpFmT.js";import{T as I}from"./TitlePage-CVAOVWeu.js";import{x as _,P as c,J as h,Q as H,aF as j,r as p,o as A,U as O,af as U,H as a,y as S,G as x,k as g,u,D as y,I as $,L as M,w as q,A as w}from"./vue-DrbZvlgE.js";import{a as V,u as k,T as L}from"./app-Bp8GUED0.js";import{_ as C}from"./InputError-CDoDc20f.js";import"./ScrollButtons-DwaEk0p5.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ResponsiveNavLink-Cy7DQwuF.js";import"./vendor-CGnu3J7H.js";import"./LocaleSelectOption-DauWSBmB.js";import"./auth-image-XbvYdkSi.js";const E={class:"block font-medium text-sm text-indigo-600 dark:text-sky-500"},F={key:0},P={key:1},z={__name:"LabelInput",props:{value:{type:String}},setup(n){return(l,e)=>(c(),_("label",E,[n.value?(c(),_("span",F,h(n.value),1)):(c(),_("span",P,[H(l.$slots,"default")]))]))}},N={__name:"InputText",props:{modelValue:{type:String,required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(n,{expose:l}){const e=j(n,"modelValue"),o=p(null);return A(()=>{o.value.hasAttribute("autofocus")&&o.value.focus()}),l({focus:()=>o.value.focus()}),(t,s)=>O((c(),_("input",{class:"mt-1 block w-fit flex-grow px-2 py-1 bg-slate-100 dark:bg-cyan-800 border border-slate-500 dark:border-slate-100 rounded-md shadow-sm font-semibold text-sm focus:outline-none focus:border-indigo-500 focus:ring-indigo-300 dark:text-slate-100","onUpdate:modelValue":s[0]||(s[0]=f=>e.value=f),ref_key:"input",ref:o},null,512)),[[U,e.value]])}},G=a("svg",{class:"w-6 h-6 fill-current text-slate-100",viewBox:"0 0 24 24"},[a("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"})],-1),J=[G],T={__name:"IconSaveButton",props:{href:{type:String,default:"submit"}},setup(n){const l=p(!1);return(e,o)=>(c(),_("button",{class:S(["flex items-center btn mt-1 px-1 py-1 bg-teal-500 text-white text-md font-semibold rounded-md shadow-md transition-colors duration-300 ease-in-out hover:bg-teal-600 focus:bg-teal-600 focus:outline-none",{"ring-2 ring-teal-500 ring-offset-2 ring-offset-white":l.value}]),onMousedown:o[0]||(o[0]=t=>l.value=!0),onMouseup:o[1]||(o[1]=t=>l.value=!1)},J,34))}},Q=a("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 12c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm1-3H7V4h2v5z"},null,-1),Z=[Q],D={__name:"InfoIconButton",emits:["click"],setup(n){return(l,e)=>(c(),_("svg",{onClick:e[0]||(e[0]=o=>l.$emit("click")),class:"w-6 h-6 shrink-0 fill-current text-amber-500",viewBox:"0 0 16 16"},Z))}},K={class:"mb-2 flex items-center space-x-4"},R={__name:"SiteLayoutSetting",props:{setting:Object},setup(n){const l=V(),{t:e}=k(),t=p(n.setting),s=L({_method:"PUT",value:t.value?t.value.value:""}),f=async()=>{t.value&&s.put(route("admin.actions.settings.updateValue",t.value.id),{onSuccess:()=>{l.success("Настройка siteLayout успешно обновлена!")},onError:d=>{const i=d[Object.keys(d)[0]];l.error(i||"Ошибка при обновлении настройки siteLayout.")}})},m=d=>{let i=d.target.value;i=i.charAt(0).toUpperCase()+i.slice(1),i=i.replace(/[^a-zA-Z]/g,""),s.value=i};return(d,i)=>t.value?(c(),_("form",{key:0,onSubmit:M(f,["prevent"])},[a("div",K,[g(z,{for:"value",value:u(e)("settingSiteLayout"),class:"whitespace-nowrap"},null,8,["value"]),g(N,{id:"value",type:"text",modelValue:u(s).value,"onUpdate:modelValue":i[0]||(i[0]=b=>u(s).value=b),autocomplete:"value",onInput:m},null,8,["modelValue"]),g(T,{class:S({"opacity-25":u(s).processing}),disabled:u(s).processing},{default:y(()=>[$(h(u(e)("save")),1)]),_:1},8,["class","disabled"]),g(D,{onClick:i[1]||(i[1]=b=>d.$emit("toggle-modal",t.value.description))})]),g(C,{class:"mt-2",message:u(s).errors.value},null,8,["message"])],32)):x("",!0)}},W=["id","checked"],X={__name:"SettingsCheckbox",props:{id:{type:String,required:!0},modelValue:{type:String,default:"false"}},emits:["update:modelValue"],setup(n,{emit:l}){return(e,o)=>(c(),_("input",{type:"checkbox",id:n.id,checked:n.modelValue==="true",onChange:o[0]||(o[0]=t=>e.$emit("update:modelValue",t.target.checked?"true":"false")),class:"mt-1 block w-6 h-6 bg-slate-100 dark:bg-cyan-800 border border-gray-500 dark:border-gray-100 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"},null,40,W))}},Y={class:"mb-2 flex items-center justify-between space-x-4"},ee={class:"flex items-center space-x-4"},te={__name:"DowntimeSetting",props:{setting:Object},setup(n){const l=V(),{t:e}=k(),t=p(n.setting),s=L({_method:"PUT",value:t.value&&t.value.value==="true"?"true":"false"}),f=async()=>{t.value&&(s.value=s.value==="true"?"true":"false",s.put(route("admin.actions.settings.updateValue",t.value.id),{onSuccess:()=>{l.success("Настройка downtimeSite успешно обновлена!")},onError:m=>{console.error("Ошибка при обновлении настройки downtimeSite:",m);const d=m[Object.keys(m)[0]];l.error(d||"Ошибка при обновлении настройки downtimeSite.")}}))};return(m,d)=>t.value?(c(),_("form",{key:0,onSubmit:M(f,["prevent"])},[a("div",Y,[g(z,{for:"downtimeSite",value:u(e)("settingDowntimeSite"),class:"whitespace-nowrap"},null,8,["value"]),a("div",ee,[g(X,{id:"downtimeSite",modelValue:u(s).value,"onUpdate:modelValue":d[0]||(d[0]=i=>u(s).value=i)},null,8,["modelValue"]),g(T,{class:S({"opacity-25":u(s).processing}),disabled:u(s).processing},{default:y(()=>[$(h(u(e)("save")),1)]),_:1},8,["class","disabled"]),g(D,{onClick:d[1]||(d[1]=i=>m.$emit("toggle-modal",t.value.description))})])]),g(C,{class:"mt-2",message:u(s).errors.value},null,8,["message"])],32)):x("",!0)}},se={key:0,class:"fixed inset-0 overflow-hidden flex items-center my-4 justify-center px-4 sm:px-6 z-50",role:"dialog","aria-modal":"true"},oe={class:"bg-white rounded shadow-lg overflow-auto max-w-lg w-full max-h-full dark:bg-gray-800 z-60"},ae={class:"px-5 py-3 border-b border-slate-200 dark:border-gray-700"},le={class:"flex justify-between items-center"},ne=a("svg",{class:"w-6 h-6 shrink-0 fill-current text-indigo-500",viewBox:"0 0 16 16"},[a("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm1 12H7V7h2v5zM8 6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"})],-1),ie={class:"text-xl font-semibold text-sky-800 dark:text-sky-400"},re=a("svg",{class:"w-4 h-4 fill-current"},[a("path",{d:"M7.95 6.536l4.242-4.243a1 1 0 111.415 1.414L9.364 7.95l4.243 4.242a1 1 0 11-1.415 1.415L7.95 9.364l-4.243 4.243a1 1 0 01-1.414-1.415L6.536 7.95 2.293 3.707a1 1 0 011.414-1.414L7.95 6.536z"})],-1),ue=[re],de={class:"px-5 pt-4 pb-5"},ce={class:"text-xl text-center font-semibold text-slate-800 dark:text-gray-200"},me={class:"space-y-2"},pe={__name:"Modal",props:{showModal:{type:Boolean,required:!0},modalDescription:{type:String,required:!0}},emits:["toggleModal"],setup(n,{emit:l}){const{t:e}=k(),o=l,t=()=>{o("toggleModal")};return(s,f)=>n.showModal?(c(),_("div",se,[a("div",{class:"fixed inset-0 bg-slate-900 opacity-50 z-50",onClick:t}),a("div",oe,[a("div",ae,[a("div",le,[ne,a("div",ie,h(u(e)("description")),1),a("button",{class:"text-slate-700 hover:text-rose-400 dark:text-slate-400 dark:hover:text-red-400",onClick:t},ue)])]),a("div",de,[a("div",ce,[a("div",me,[a("p",null,h(n.modalDescription),1)])])])])])):x("",!0)}},ge={class:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto"},fe={class:"p-4 bg-slate-50 dark:bg-slate-700 border border-blue-400 dark:border-blue-200 overflow-hidden shadow-lg shadow-gray-500 dark:shadow-slate-400 bg-opacity-95 dark:bg-opacity-95 space-x-4"},Ve={__name:"Index",props:{settings:{type:Array,required:!0}},setup(n){const{t:l}=k(),e=n,o=p(!1),t=p(""),s=(r="")=>{t.value=r,o.value=!o.value},f=p(e.settings.find(r=>r.option==="siteLayout")||null),m=p(e.settings.find(r=>r.option==="downtimeSite")||null),d=p(e.settings.find(r=>r.option==="locale")||null),i=p(e.settings.find(r=>r.option==="widgetHexColor")||null),b=p(e.settings.find(r=>r.option==="widgetOpacity")||null);return q(()=>e.settings,r=>{f.value=r.find(v=>v.option==="siteLayout")||null,m.value=r.find(v=>v.option==="downtimeSite")||null,d.value=r.find(v=>v.option==="locale")||null,i.value=r.find(v=>v.option==="widgetHexColor")||null,b.value=r.find(v=>v.option==="widgetOpacity")||null},{immediate:!0}),(r,v)=>(c(),w(B,{title:u(l)("siteSettingsTitle")},{header:y(()=>[g(I,null,{default:y(()=>[$(h(u(l)("siteSettingsTitle")),1)]),_:1})]),default:y(()=>[a("div",ge,[a("div",fe,[f.value?(c(),w(R,{key:0,setting:f.value,onToggleModal:s},null,8,["setting"])):x("",!0),m.value?(c(),w(te,{key:1,setting:m.value,onToggleModal:s},null,8,["setting"])):x("",!0)])]),o.value?(c(),w(pe,{key:0,showModal:o.value,modalDescription:t.value,onToggleModal:s},null,8,["showModal","modalDescription"])):x("",!0)]),_:1},8,["title"]))}};export{Ve as default};
